=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        testCounter 100
        testCounter none
        testGauge 100
        testGauge none
        testCounter 100
--- PASS: TestIteration1 (0.14s)
    --- PASS: TestIteration1/TestCounterHandlers (0.02s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:67: Процесс завершился с не нулевым статусом 2
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        Post "http://localhost:8080/update/gauge/HeapAlloc/161944.000000": EOF
        panic: runtime error: invalid memory address or nil pointer dereference
        [signal SIGSEGV: segmentation violation code=0x2 addr=0x40 pc=0x10305a2e8]
        
        goroutine 33 [running]:
        github.com/NikitaBarysh/metrics_and_alertinc/internal/sender.(*Sender).SendPost(0x1030696a2?, {0x10313bce0, 0x140000c20a0?}, {0x14000022100?, 0x2?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/sender/sender.go:27 +0x168
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.(*MetricAction).SendMetric(0x14000104000, {0x10313bce0, 0x140000c20a0})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/collectStats.go:77 +0x104
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.(*MetricAction).Run(0x0?, {0x10313bce0, 0x140000c20a0})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/collectStats.go:35 +0x11c
        created by main.main
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/agent/main.go:26 +0x1e4
--- PASS: TestIteration2A (10.03s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
    iteration2b_test.go:87: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration2b_test.go:87
        	Error:      	Received unexpected error:
        	            	exit status 1
        	Test:       	TestIteration2B/TestServerCoverage
        	Messages:   	Невозможно получить результат выполнения команды: /usr/local/go/bin/go test -cover ./.... Вывод:
        	            	
        	            	 # github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers [github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.test]
        	            	internal/handlers/handlers_test.go:93:10: handler.Router undefined (type *Handler has no field or method Router)
        	            	internal/handlers/handlers_test.go:161:10: handler.Router undefined (type *Handler has no field or method Router)
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/cmd/agent	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/cmd/server	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/router	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/sender	[no test files]
        	            	FAIL	github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers [build failed]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage/repositories	[no test files]
        	            	--- FAIL: TestMetricAction (0.00s)
        	            	    --- FAIL: TestMetricAction/success (0.00s)
        	            	panic: runtime error: invalid memory address or nil pointer dereference [recovered]
        	            		panic: runtime error: invalid memory address or nil pointer dereference
        	            	[signal SIGSEGV: segmentation violation code=0x2 addr=0x0 pc=0x10280d944]
        	            	
        	            	goroutine 7 [running]:
        	            	testing.tRunner.func1.2({0x1028ecf20, 0x102a3ba60})
        	            		/usr/local/go/src/testing/testing.go:1526 +0x1c8
        	            	testing.tRunner.func1()
        	            		/usr/local/go/src/testing/testing.go:1529 +0x384
        	            	panic({0x1028ecf20, 0x102a3ba60})
        	            		/usr/local/go/src/runtime/panic.go:884 +0x204
        	            	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage/repositories.(*MemStorage).ReadGaugeMetric(0x102a15ac0?)
        	            		/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/repositories/repository.go:34 +0x24
        	            	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.(*MetricAction).SendMetric(0x1400011bf40, {0x102920e50, 0x1400001c090})
        	            		/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/collectStats.go:75 +0x80
        	            	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.TestMetricAction.func1(0x1400014e340)
        	            		/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/storage_test.go:56 +0xc4
        	            	testing.tRunner(0x1400014e340, 0x14000057190)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10c
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x368
        	            	FAIL	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage	0.008s
        	            	FAIL
    iteration2b_test.go:91: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration2b_test.go:91
        	Error:      	Should be true
        	Test:       	TestIteration2B/TestServerCoverage
        	Messages:   	Отсутствует информация о покрытии кода тестами, команда: /usr/local/go/bin/go test -cover ./...
    iteration2b_test.go:94: Вывод команды:
        
        # github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers [github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.test]
        internal/handlers/handlers_test.go:93:10: handler.Router undefined (type *Handler has no field or method Router)
        internal/handlers/handlers_test.go:161:10: handler.Router undefined (type *Handler has no field or method Router)
        ?   	github.com/NikitaBarysh/metrics_and_alertinc/cmd/agent	[no test files]
        ?   	github.com/NikitaBarysh/metrics_and_alertinc/cmd/server	[no test files]
        ?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/router	[no test files]
        ?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/sender	[no test files]
        FAIL	github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers [build failed]
        ?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage/repositories	[no test files]
        --- FAIL: TestMetricAction (0.00s)
            --- FAIL: TestMetricAction/success (0.00s)
        panic: runtime error: invalid memory address or nil pointer dereference [recovered]
        	panic: runtime error: invalid memory address or nil pointer dereference
        [signal SIGSEGV: segmentation violation code=0x2 addr=0x0 pc=0x10280d944]
        
        goroutine 7 [running]:
        testing.tRunner.func1.2({0x1028ecf20, 0x102a3ba60})
        	/usr/local/go/src/testing/testing.go:1526 +0x1c8
        testing.tRunner.func1()
        	/usr/local/go/src/testing/testing.go:1529 +0x384
        panic({0x1028ecf20, 0x102a3ba60})
        	/usr/local/go/src/runtime/panic.go:884 +0x204
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage/repositories.(*MemStorage).ReadGaugeMetric(0x102a15ac0?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/repositories/repository.go:34 +0x24
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.(*MetricAction).SendMetric(0x1400011bf40, {0x102920e50, 0x1400001c090})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/collectStats.go:75 +0x80
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.TestMetricAction.func1(0x1400014e340)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/storage_test.go:56 +0xc4
        testing.tRunner(0x1400014e340, 0x14000057190)
        	/usr/local/go/src/testing/testing.go:1576 +0x10c
        created by testing.(*T).Run
        	/usr/local/go/src/testing/testing.go:1629 +0x368
        FAIL	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage	0.008s
        FAIL
--- FAIL: TestIteration2B (0.73s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- FAIL: TestIteration2B/TestServerCoverage (0.73s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        testSetGet187 824
        testSetGet187 256
        testSetGet187 505
        testSetGet143 775996.741
        testSetGet143 703156.508
        testSetGet143 337827.553
--- PASS: TestIteration3B (0.11s)
    --- PASS: TestIteration3B/TestCounter (0.00s)
        --- PASS: TestIteration3B/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
    iteration4_test.go:38: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:38
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:37
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration4
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration4 (0.00s)
=== RUN   TestIteration5
    iteration5_test.go:33: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:33
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:41
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration5
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration5 (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
    iteration6_test.go:45: Не найдено использование хотя бы одного известного логгера по пути .
--- FAIL: TestIteration6 (0.00s)
    --- FAIL: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
=== RUN   TestIteration7/TestCollectAgentMetrics/counter/PollCount
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/counter/PollCount
        	Messages:   	Отсутствует изменение метрики: PollCount, тип: counter
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
        	Messages:   	Отсутствует изменение метрики: RandomValue, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Alloc
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Alloc
        	Messages:   	Отсутствует изменение метрики: Alloc, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys
        	Messages:   	Отсутствует изменение метрики: BuckHashSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Frees
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Frees
        	Messages:   	Отсутствует изменение метрики: Frees, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction
        	Messages:   	Отсутствует изменение метрики: GCCPUFraction, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/GCSys
        	Messages:   	Отсутствует изменение метрики: GCSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
        	Messages:   	Отсутствует изменение метрики: HeapAlloc, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
        	Messages:   	Отсутствует изменение метрики: HeapIdle, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
        	Messages:   	Отсутствует изменение метрики: HeapInuse, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
        	Messages:   	Отсутствует изменение метрики: HeapObjects, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased
        	Messages:   	Отсутствует изменение метрики: HeapReleased, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapSys
        	Messages:   	Отсутствует изменение метрики: HeapSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/LastGC
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/LastGC
        	Messages:   	Отсутствует изменение метрики: LastGC, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Lookups
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Lookups
        	Messages:   	Отсутствует изменение метрики: Lookups, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse
        	Messages:   	Отсутствует изменение метрики: MCacheInuse, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys
        	Messages:   	Отсутствует изменение метрики: MCacheSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse
        	Messages:   	Отсутствует изменение метрики: MSpanInuse, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys
        	Messages:   	Отсутствует изменение метрики: MSpanSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
        	Messages:   	Отсутствует изменение метрики: Mallocs, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NextGC
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/NextGC
        	Messages:   	Отсутствует изменение метрики: NextGC, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC
        	Messages:   	Отсутствует изменение метрики: NumForcedGC, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumGC
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/NumGC
        	Messages:   	Отсутствует изменение метрики: NumGC, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/OtherSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/OtherSys
        	Messages:   	Отсутствует изменение метрики: OtherSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs
        	Messages:   	Отсутствует изменение метрики: PauseTotalNs, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackInuse
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/StackInuse
        	Messages:   	Отсутствует изменение метрики: StackInuse, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackSys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/StackSys
        	Messages:   	Отсутствует изменение метрики: StackSys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Sys
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Sys
        	Messages:   	Отсутствует изменение метрики: Sys, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
        	Messages:   	Отсутствует изменение метрики: TotalAlloc, тип: gauge
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
    iteration7_test.go:227: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:227
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 404
        	Test:       	TestIteration7/TestCounterHandlers/update
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере "POST": "http://localhost:8080/update/" 
    iteration7_test.go:263: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:265: Оригинальный ответ:
        
=== RUN   TestIteration7/TestEncoderUsage
    iteration7_test.go:173: Не найдено использование известных библиотек кодирования JSON .
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
    iteration7_test.go:289: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:289
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 404
        	Test:       	TestIteration7/TestGaugeHandlers/update
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере "POST": "http://localhost:8080/update/" 
    iteration7_test.go:314: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:316: Оригинальный ответ:
        
=== NAME  TestIteration7
    iteration7_test.go:150: Процесс завершился с не нулевым статусом 2
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        Post "http://localhost:8080/update/gauge/Alloc/162200.000000": read tcp [::1]:64628->[::1]:8080: read: connection reset by peer
        panic: runtime error: invalid memory address or nil pointer dereference
        [signal SIGSEGV: segmentation violation code=0x2 addr=0x40 pc=0x1046a62e8]
        
        goroutine 5 [running]:
        github.com/NikitaBarysh/metrics_and_alertinc/internal/sender.(*Sender).SendPost(0x1046b56a2?, {0x104787ce0, 0x140000c20a0?}, {0x14000022100?, 0x2?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/sender/sender.go:27 +0x168
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.(*MetricAction).SendMetric(0x1400000c018, {0x104787ce0, 0x140000c20a0})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/collectStats.go:77 +0x104
        github.com/NikitaBarysh/metrics_and_alertinc/internal/storage.(*MetricAction).Run(0x0?, {0x104787ce0, 0x140000c20a0})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/storage/collectStats.go:35 +0x11c
        created by main.main
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/agent/main.go:26 +0x1e4
--- FAIL: TestIteration7 (71.98s)
    --- FAIL: TestIteration7/TestCollectAgentMetrics (61.86s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- FAIL: TestIteration7/TestCounterHandlers (0.00s)
        --- FAIL: TestIteration7/TestCounterHandlers/update (0.00s)
    --- FAIL: TestIteration7/TestEncoderUsage (0.00s)
    --- FAIL: TestIteration7/TestGaugeHandlers (0.00s)
        --- FAIL: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
    iteration8_test.go:36: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:36
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:53
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration8
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration8 (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:36: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:36
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
    iteration10a_test.go:33: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration10a_test.go:33
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:61
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration10A
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration10A (0.00s)
=== RUN   TestIteration10B
    iteration10b_test.go:32: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration10b_test.go:32
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:65
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration10B
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration10B (0.00s)
=== RUN   TestIteration11
    iteration11_test.go:40: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:40
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:69
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration11
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration11 (0.00s)
=== RUN   TestIteration12
    iteration12_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:73
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration12
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration12 (0.00s)
=== RUN   TestIteration13
    iteration13_test.go:35: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:35
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:77
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration13
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration13 (0.00s)
=== RUN   TestIteration14
    iteration14_test.go:38: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:38
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-server-port non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
