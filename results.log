=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        2023/10/12 22:06:36 goose: no migrations to run. current version: 1
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        2023/10/12 22:06:36 goose: no migrations to run. current version: 1
--- PASS: TestIteration1 (0.12s)
    --- PASS: TestIteration1/TestCounterHandlers (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": read tcp [::1]:63951->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3260416.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/573440.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.75": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/350.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/361.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2773392.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": context canceled
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/995064.00": context canceled
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149248.00": context canceled
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3260416.00": context canceled
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": context canceled
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": context canceled
--- PASS: TestIteration2A (10.04s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (1.13s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (1.12s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
    iteration3b_test.go:189: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:189
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "190"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-190
        	            	+0
        	Test:       	TestIteration3B/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (190) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet40'
    iteration3b_test.go:194: Оригинальный запрос:
        
        GET /value/counter/testSetGet40 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:189: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:189
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "786"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-786
        	            	+0
        	Test:       	TestIteration3B/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (786) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet40'
    iteration3b_test.go:194: Оригинальный запрос:
        
        GET /value/counter/testSetGet40 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:189: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:189
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "1072"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-1072
        	            	+0
        	Test:       	TestIteration3B/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (1072) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet40'
    iteration3b_test.go:194: Оригинальный запрос:
        
        GET /value/counter/testSetGet40 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestCounter/get_unknown
    iteration3b_test.go:204: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:204
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 200
        	Test:       	TestIteration3B/TestCounter/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/counter/testUnknown217'
    iteration3b_test.go:209: Оригинальный запрос:
        
        GET /value/counter/testUnknown217 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
    iteration3b_test.go:119: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:119
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "818538.746"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-818538.746
        	            	+0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (818538.746) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet223'
    iteration3b_test.go:124: Оригинальный запрос:
        
        GET /value/gauge/testSetGet223 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:119: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:119
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "839617.544"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-839617.544
        	            	+0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (839617.544) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet223'
    iteration3b_test.go:124: Оригинальный запрос:
        
        GET /value/gauge/testSetGet223 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:119: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:119
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "128464.917"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-128464.917
        	            	+0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (128464.917) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet223'
    iteration3b_test.go:124: Оригинальный запрос:
        
        GET /value/gauge/testSetGet223 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestGauge/get_unknown
    iteration3b_test.go:135: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:135
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 200
        	Test:       	TestIteration3B/TestGauge/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testUnknown54'
    iteration3b_test.go:140: Оригинальный запрос:
        
        GET /value/gauge/testUnknown54 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        2023/10/12 22:06:48 goose: no migrations to run. current version: 1
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        2023/10/12 22:06:48 goose: no migrations to run. current version: 1
--- FAIL: TestIteration3B (0.13s)
    --- FAIL: TestIteration3B/TestCounter (0.02s)
        --- FAIL: TestIteration3B/TestCounter/update_sequence (0.02s)
        --- FAIL: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- FAIL: TestIteration3B/TestGauge (0.01s)
        --- FAIL: TestIteration3B/TestGauge/update_sequence (0.01s)
        --- FAIL: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
    iteration4_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "533"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-533
        	            	+0
        	Test:       	TestIteration4/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (533) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet26'
    iteration4_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testSetGet26 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "1469"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-1469
        	            	+0
        	Test:       	TestIteration4/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (1469) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet26'
    iteration4_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testSetGet26 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "1792"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-1792
        	            	+0
        	Test:       	TestIteration4/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (1792) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet26'
    iteration4_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testSetGet26 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestCounter/get_unknown
    iteration4_test.go:285: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:285
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 200
        	Test:       	TestIteration4/TestCounter/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/counter/testUnknown38'
    iteration4_test.go:290: Оригинальный запрос:
        
        GET /value/counter/testUnknown38 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
    iteration4_test.go:200: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:200
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "573216.932"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-573216.932
        	            	+0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (573216.932) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet152'
    iteration4_test.go:205: Оригинальный запрос:
        
        GET /value/gauge/testSetGet152 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:200: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:200
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "710330.663"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-710330.663
        	            	+0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (710330.663) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet152'
    iteration4_test.go:205: Оригинальный запрос:
        
        GET /value/gauge/testSetGet152 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:200: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:200
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "312405.257"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-312405.257
        	            	+0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (312405.257) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet152'
    iteration4_test.go:205: Оригинальный запрос:
        
        GET /value/gauge/testSetGet152 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestGauge/get_unknown
    iteration4_test.go:216: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:216
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 200
        	Test:       	TestIteration4/TestGauge/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testUnknown63'
    iteration4_test.go:221: Оригинальный запрос:
        
        GET /value/gauge/testUnknown63 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/353.00": read tcp [::1]:64008->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/2": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.29": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1007400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/364.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3137536.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/696320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3137536.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        2023/10/12 22:06:50 goose: no migrations to run. current version: 1
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        2023/10/12 22:06:50 goose: no migrations to run. current version: 1
--- FAIL: TestIteration4 (2.15s)
    --- FAIL: TestIteration4/TestCounter (0.01s)
        --- FAIL: TestIteration4/TestCounter/update_sequence (0.01s)
        --- FAIL: TestIteration4/TestCounter/get_unknown (0.00s)
    --- FAIL: TestIteration4/TestGauge (0.01s)
        --- FAIL: TestIteration4/TestGauge/update_sequence (0.01s)
        --- FAIL: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
    iteration5_test.go:255: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:255
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "28"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-28
        	            	+0
        	Test:       	TestIteration5/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (28) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet137'
    iteration5_test.go:260: Оригинальный запрос:
        
        GET /value/counter/testSetGet137 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:255: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:255
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "441"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-441
        	            	+0
        	Test:       	TestIteration5/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (441) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet137'
    iteration5_test.go:260: Оригинальный запрос:
        
        GET /value/counter/testSetGet137 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:255: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:255
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "764"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-764
        	            	+0
        	Test:       	TestIteration5/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (764) полученному от сервера (0), 'GET http://localhost:8080/value/counter/testSetGet137'
    iteration5_test.go:260: Оригинальный запрос:
        
        GET /value/counter/testSetGet137 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestCounter/get_unknown
    iteration5_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 200
        	Test:       	TestIteration5/TestCounter/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/counter/testUnknown79'
    iteration5_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testUnknown79 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
    iteration5_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "376494.686"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-376494.686
        	            	+0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (376494.686) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet202'
    iteration5_test.go:190: Оригинальный запрос:
        
        GET /value/gauge/testSetGet202 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "498598.121"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-498598.121
        	            	+0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (498598.121) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet202'
    iteration5_test.go:190: Оригинальный запрос:
        
        GET /value/gauge/testSetGet202 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "422431.191"
        	            	actual  : "0"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-422431.191
        	            	+0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (422431.191) полученному от сервера (0), 'GET http://localhost:8080/value/gauge/testSetGet202'
    iteration5_test.go:190: Оригинальный запрос:
        
        GET /value/gauge/testSetGet202 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestGauge/get_unknown
    iteration5_test.go:201: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:201
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 200
        	Test:       	TestIteration5/TestGauge/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testUnknown3'
    iteration5_test.go:206: Оригинальный запрос:
        
        GET /value/gauge/testUnknown3 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": read tcp [::1]:64076->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3186688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3186688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/153848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.50": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/153848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/355.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/647168.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1007400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/153848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/366.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        2023/10/12 22:06:55 goose: no migrations to run. current version: 1
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        2023/10/12 22:06:55 goose: no migrations to run. current version: 1
--- FAIL: TestIteration5 (5.14s)
    --- FAIL: TestIteration5/TestCounter (0.01s)
        --- FAIL: TestIteration5/TestCounter/update_sequence (0.01s)
        --- FAIL: TestIteration5/TestCounter/get_unknown (0.00s)
    --- FAIL: TestIteration5/TestGauge (0.01s)
        --- FAIL: TestIteration5/TestGauge/update_sequence (0.01s)
        --- FAIL: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:432: get gauge: "BuckHashSys", value: 0.000000
    iteration7_test.go:432: get gauge: "GCCPUFraction", value: 0.000000
    iteration7_test.go:432: get gauge: "GCSys", value: 0.000000
    iteration7_test.go:432: get gauge: "HeapReleased", value: 0.000000
    iteration7_test.go:432: get gauge: "HeapSys", value: 0.000000
    iteration7_test.go:432: get gauge: "LastGC", value: 0.000000
    iteration7_test.go:432: get gauge: "Lookups", value: 0.000000
    iteration7_test.go:432: get gauge: "MCacheInuse", value: 0.000000
    iteration7_test.go:432: get gauge: "MCacheSys", value: 0.000000
    iteration7_test.go:432: get gauge: "MSpanInuse", value: 0.000000
    iteration7_test.go:432: get gauge: "MSpanSys", value: 0.000000
    iteration7_test.go:432: get gauge: "NextGC", value: 0.000000
    iteration7_test.go:432: get gauge: "NumForcedGC", value: 0.000000
    iteration7_test.go:432: get gauge: "NumGC", value: 0.000000
    iteration7_test.go:432: get gauge: "OtherSys", value: 0.000000
    iteration7_test.go:432: get gauge: "PauseTotalNs", value: 0.000000
    iteration7_test.go:432: get gauge: "StackInuse", value: 0.000000
    iteration7_test.go:432: get gauge: "StackSys", value: 0.000000
    iteration7_test.go:432: get gauge: "Sys", value: 0.000000
=== RUN   TestIteration7/TestCollectAgentMetrics/counter/PollCount
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/counter/PollCount
        	Messages:   	Отсутствует изменение метрики: PollCount, тип: counter
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
        	Messages:   	Отсутствует изменение метрики: RandomValue, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Alloc
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Alloc
        	Messages:   	Отсутствует изменение метрики: Alloc, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Frees
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Frees
        	Messages:   	Отсутствует изменение метрики: Frees, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
        	Messages:   	Отсутствует изменение метрики: HeapAlloc, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
        	Messages:   	Отсутствует изменение метрики: HeapIdle, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
        	Messages:   	Отсутствует изменение метрики: HeapInuse, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
        	Messages:   	Отсутствует изменение метрики: HeapObjects, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
        	Messages:   	Отсутствует изменение метрики: Mallocs, тип: gauge
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
    iteration7_test.go:449: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:449
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
        	Messages:   	Отсутствует изменение метрики: TotalAlloc, тип: gauge
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
    iteration7_test.go:258: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:258
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 1372910248
        	            	actual  : 0
        	Test:       	TestIteration7/TestCounterHandlers/update
        	Messages:   	Несоответствие расчетой суммы отправленных значений counter (1372910248) и полученной от сервера (0), '"POST" http://localhost:8080/value/'
    iteration7_test.go:263: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:265: Оригинальный ответ:
        
=== RUN   TestIteration7/TestEncoderUsage
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
    iteration7_test.go:309: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:309
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 316742.27900052734
        	            	actual  : 0
        	Test:       	TestIteration7/TestGaugeHandlers/update
        	Messages:   	Несоответствие отправленного значения gauge (316742.279001) полученному от сервера (0.000000), '"POST" http://localhost:8080/value/'
    iteration7_test.go:314: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:316: Оригинальный ответ:
        
=== NAME  TestIteration7
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": read tcp [::1]:64148->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.77": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/647168.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3186688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1001232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/353.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/364.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2767224.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3186688.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration7_test.go:131: Получен STDOUT лог процесса:
        
        2023/10/12 22:07:05 goose: no migrations to run. current version: 1
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        2023/10/12 22:07:05 goose: no migrations to run. current version: 1
--- FAIL: TestIteration7 (71.14s)
    --- FAIL: TestIteration7/TestCollectAgentMetrics (60.88s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- FAIL: TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- FAIL: TestIteration7/TestCounterHandlers (0.02s)
        --- FAIL: TestIteration7/TestCounterHandlers/update (0.02s)
    --- PASS: TestIteration7/TestEncoderUsage (0.00s)
    --- FAIL: TestIteration7/TestGaugeHandlers (0.00s)
        --- FAIL: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
=== RUN   TestIteration8/TestCounterGzipHandlers
=== RUN   TestIteration8/TestCounterGzipHandlers/update
    iteration8_test.go:241: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:241
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 742051425
        	            	actual  : 0
        	Test:       	TestIteration8/TestCounterGzipHandlers/update
        	Messages:   	Несоответствие отправленного значения counter (742051425) полученному от сервера (0), '"POST" http://localhost:8080/value/'
    iteration8_test.go:246: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration8_test.go:248: Оригинальный ответ:
        
=== RUN   TestIteration8/TestGaugeGzipHandlers
=== RUN   TestIteration8/TestGaugeGzipHandlers/update
    iteration8_test.go:296: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:296
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 107590.43563145101
        	            	actual  : 0
        	Test:       	TestIteration8/TestGaugeGzipHandlers/update
        	Messages:   	Несоответствие отправленного значения gauge (107590.435631) полученному от сервера (0.000000), '"POST" http://localhost:8080/value/'
    iteration8_test.go:301: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration8_test.go:303: Оригинальный ответ:
        
=== RUN   TestIteration8/TestGetGzipHandlers
=== RUN   TestIteration8/TestGetGzipHandlers/get_info_page
=== NAME  TestIteration8
    iteration8_test.go:152: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": read tcp [::1]:64250->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3088384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/745472.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3063808.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.63": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/353.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/364.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1007400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration8_test.go:121: Получен STDOUT лог процесса:
        
        2023/10/12 22:08:16 goose: no migrations to run. current version: 1
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        2023/10/12 22:08:16 goose: no migrations to run. current version: 1
        repository: postgres: GetAllMetric: Scan: sql: Scan error on column index 0, name "id": destination not a pointer
--- FAIL: TestIteration8 (10.39s)
    --- FAIL: TestIteration8/TestCounterGzipHandlers (0.03s)
        --- FAIL: TestIteration8/TestCounterGzipHandlers/update (0.03s)
    --- FAIL: TestIteration8/TestGaugeGzipHandlers (0.01s)
        --- FAIL: TestIteration8/TestGaugeGzipHandlers/update (0.01s)
    --- PASS: TestIteration8/TestGetGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGetGzipHandlers/get_info_page (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:37: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:37
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-file-storage-path non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
    iteration10a_test.go:75: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
    iteration10a_test.go:145: Не удалось получить код ответа 200 от хендлера 'GET /ping' за отведенное время
=== NAME  TestIteration10A
    iteration10a_test.go:99: Процесс завершился с не нулевым статусом 2
    iteration10a_test.go:111: Получен STDOUT лог процесса:
        
        panic: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:43 +0x7a4
--- FAIL: TestIteration10A (30.04s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.01s)
    --- FAIL: TestIteration10A/TestPingHandler (10.01s)
=== RUN   TestIteration10B
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
    iteration10b_test.go:134: Хендлер вернул положительный результат при использовании заведомо неправильных параметрах подключения к серверу.(проверьте приоритет использования параметров при указании через флаги и переменные окружения)
=== NAME  TestIteration10B
    iteration10b_test.go:94: Процесс завершился с не нулевым статусом 2
    iteration10b_test.go:106: Получен STDOUT лог процесса:
        
        panic: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:43 +0x7a4
--- FAIL: TestIteration10B (2.42s)
    --- FAIL: TestIteration10B/TestPingHandlerWithWrongSettings (1.01s)
=== RUN   TestIteration11
    iteration11_test.go:77: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration11/TestInspectDatabase
=== RUN   TestIteration11/TestInspectDatabase/populate_counter
=== RUN   TestIteration11/TestInspectDatabase/delay
=== RUN   TestIteration11/TestInspectDatabase/inspect
    iteration11_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Expected value not to be nil.
        	Test:       	TestIteration11/TestInspectDatabase/inspect
        	Messages:   	Невозможно проинспектировать базу данных, нет подключения
--- FAIL: TestIteration11 (5.03s)
    --- FAIL: TestIteration11/TestInspectDatabase (5.02s)
        --- PASS: TestIteration11/TestInspectDatabase/populate_counter (0.01s)
        --- PASS: TestIteration11/TestInspectDatabase/delay (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/inspect (0.00s)
=== RUN   TestIteration12
    iteration12_test.go:78: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration12/TestBatchAPI
=== RUN   TestIteration12/TestBatchAPI/get_random_counter
=== RUN   TestIteration12/TestBatchAPI/batch_update_random_metrics
    iteration12_test.go:219: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:219
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 404
        	Test:       	TestIteration12/TestBatchAPI/batch_update_random_metrics
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере "POST": "http://localhost:8080/updates/" 
    iteration12_test.go:224: Оригинальный запрос:
        
        POST /updates/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:226: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_counter_value
    iteration12_test.go:250: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:250
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 2510998427
        	            	actual  : 0
        	Test:       	TestIteration12/TestBatchAPI/check_counter_value
        	Messages:   	Несоответствие отправленного значения counter (r:0+w:2050508677+w:460489750) полученному от сервера (0), '"POST" http://localhost:8080/value/'
    iteration12_test.go:255: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:257: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_gauge_value
    iteration12_test.go:281: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:281
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 230925.62657954462
        	            	actual  : 0
        	Test:       	TestIteration12/TestBatchAPI/check_gauge_value
        	Messages:   	Несоответствие отправленного значения gauge (230925.626580) полученному от сервера (0.000000), '"POST" http://localhost:8080/value/'
    iteration12_test.go:286: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:288: Оригинальный ответ:
        
--- FAIL: TestIteration12 (0.04s)
    --- FAIL: TestIteration12/TestBatchAPI (0.03s)
        --- PASS: TestIteration12/TestBatchAPI/get_random_counter (0.02s)
        --- FAIL: TestIteration12/TestBatchAPI/batch_update_random_metrics (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_counter_value (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_gauge_value (0.00s)
=== RUN   TestIteration13
=== RUN   TestIteration13/TestCollectAgentMetrics
    iteration13_test.go:424: get gauge: "BuckHashSys", value: 0.000000
    iteration13_test.go:424: get gauge: "GCCPUFraction", value: 0.000000
    iteration13_test.go:424: get gauge: "GCSys", value: 0.000000
    iteration13_test.go:424: get gauge: "HeapReleased", value: 0.000000
    iteration13_test.go:424: get gauge: "HeapSys", value: 0.000000
    iteration13_test.go:424: get gauge: "LastGC", value: 0.000000
    iteration13_test.go:424: get gauge: "Lookups", value: 0.000000
    iteration13_test.go:424: get gauge: "MCacheInuse", value: 0.000000
    iteration13_test.go:424: get gauge: "MCacheSys", value: 0.000000
    iteration13_test.go:424: get gauge: "MSpanInuse", value: 0.000000
    iteration13_test.go:424: get gauge: "MSpanSys", value: 0.000000
    iteration13_test.go:424: get gauge: "NextGC", value: 0.000000
    iteration13_test.go:424: get gauge: "NumForcedGC", value: 0.000000
    iteration13_test.go:424: get gauge: "NumGC", value: 0.000000
    iteration13_test.go:424: get gauge: "OtherSys", value: 0.000000
    iteration13_test.go:424: get gauge: "PauseTotalNs", value: 0.000000
    iteration13_test.go:424: get gauge: "StackInuse", value: 0.000000
    iteration13_test.go:424: get gauge: "StackSys", value: 0.000000
    iteration13_test.go:424: get gauge: "Sys", value: 0.000000
=== RUN   TestIteration13/TestCollectAgentMetrics/counter/PollCount
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/counter/PollCount
        	Messages:   	Отсутствует изменение метрики: PollCount, тип: counter
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/RandomValue
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/RandomValue
        	Messages:   	Отсутствует изменение метрики: RandomValue, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Alloc
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/Alloc
        	Messages:   	Отсутствует изменение метрики: Alloc, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Frees
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/Frees
        	Messages:   	Отсутствует изменение метрики: Frees, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc
        	Messages:   	Отсутствует изменение метрики: HeapAlloc, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle
        	Messages:   	Отсутствует изменение метрики: HeapIdle, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse
        	Messages:   	Отсутствует изменение метрики: HeapInuse, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects
        	Messages:   	Отсутствует изменение метрики: HeapObjects, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Mallocs
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/Mallocs
        	Messages:   	Отсутствует изменение метрики: Mallocs, тип: gauge
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc
    iteration13_test.go:441: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:441
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc
        	Messages:   	Отсутствует изменение метрики: TotalAlloc, тип: gauge
=== RUN   TestIteration13/TestCounterGzipHandlers
=== RUN   TestIteration13/TestCounterGzipHandlers/update
    iteration13_test.go:249: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:249
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 465717076
        	            	actual  : 0
        	Test:       	TestIteration13/TestCounterGzipHandlers/update
        	Messages:   	Несоответствие отправленного значения counter (r:0+w:393310738+w:72406338) полученному от сервера (0), '"POST" http://localhost:8080/value/'
    iteration13_test.go:254: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration13_test.go:256: Оригинальный ответ:
        
=== RUN   TestIteration13/TestGaugeGzipHandlers
=== RUN   TestIteration13/TestGaugeGzipHandlers/update
    iteration13_test.go:303: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:303
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 341850.79491334804
        	            	actual  : 0
        	Test:       	TestIteration13/TestGaugeGzipHandlers/update
        	Messages:   	Несоответствие отправленного значения gauge (341850.794913) полученному от сервера (0.000000), '"POST" http://localhost:8080/value/'
    iteration13_test.go:308: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration13_test.go:310: Оригинальный ответ:
        
=== NAME  TestIteration13
    iteration13_test.go:164: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/751424.00": read tcp [::1]:64717->[::1]:8080: read: connection reset by peer
        interrupt
    iteration13_test.go:120: Процесс завершился с не нулевым статусом 2
    iteration13_test.go:132: Получен STDOUT лог процесса:
        
        panic: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:43 +0x7a4
--- FAIL: TestIteration13 (70.27s)
    --- FAIL: TestIteration13/TestCollectAgentMetrics (60.02s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- FAIL: TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- FAIL: TestIteration13/TestCounterGzipHandlers (0.02s)
        --- FAIL: TestIteration13/TestCounterGzipHandlers/update (0.02s)
    --- FAIL: TestIteration13/TestGaugeGzipHandlers (0.01s)
        --- FAIL: TestIteration13/TestGaugeGzipHandlers/update (0.01s)
=== RUN   TestIteration14
    iteration14_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-key non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
