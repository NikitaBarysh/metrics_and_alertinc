=== RUN   TestIteration1
    iteration1_test.go:43: Невозможно запустить процесс командой cmd/server/ser: fork/exec cmd/server/ser: no such file or directory. Переменные окружения: [DATAGRIP_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/datagrip.vmoptions PATH=/usr/local/go/bin:/Users/nikitabar/go/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin PYCHARM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/pycharm.vmoptions WEBSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webstorm.vmoptions CLION_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/clion.vmoptions JETBRAINSCLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrainsclient.vmoptions TERM=xterm-256color FIG_JETBRAINS_SHELL_INTEGRATION=1 GATEWAY_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/gateway.vmoptions COMMAND_MODE=unix2003 GOLAND_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/goland.vmoptions IDEA_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/idea.vmoptions RIDER_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rider.vmoptions RUBYMINE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rubymine.vmoptions JETBRAINS_CLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrains_client.vmoptions DEVECOSTUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/devecostudio.vmoptions LOGNAME=nikitabar STUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/studio.vmoptions XPC_SERVICE_NAME=0 __CFBundleIdentifier=com.jetbrains.goland SHELL=/bin/zsh APPCODE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/appcode.vmoptions GOPATH=/Users/nikitabar/go USER=nikitabar GOROOT=/usr/local/go TMPDIR=/var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/ TERMINAL_EMULATOR=JetBrains-JediTerm GO111MODULE=on DATASPELL_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/dataspell.vmoptions SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.BLdHtSXQuX/Listeners XPC_FLAGS=0x0 WEBIDE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webide.vmoptions TERM_SESSION_ID=99213953-e7d4-4e0c-9f3e-e22aca3cc469 __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0 PHPSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/phpstorm.vmoptions LC_CTYPE=UTF-8 HOME=/Users/nikitabar SHLVL=1 PWD=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc OLDPWD=/Users/nikitabar/Dev/test_metric HOMEBREW_PREFIX=/opt/homebrew HOMEBREW_CELLAR=/opt/homebrew/Cellar HOMEBREW_REPOSITORY=/opt/homebrew MANPATH=/opt/homebrew/share/man:: INFOPATH=/opt/homebrew/share/info: _=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc/./metricstest RESTORE=false]
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    suite.go:77: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 18 [running]:
        runtime/debug.Stack()
        	/usr/local/go/src/runtime/debug/stack.go:24 +0x64
        github.com/stretchr/testify/suite.failOnPanic(0x140000831e0, {0x104edc800, 0x1053cad40})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:77 +0x34
        github.com/stretchr/testify/suite.recoverAndFailOnPanic(0x2d?)
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:72 +0x3c
        panic({0x104edc800, 0x1053cad40})
        	/usr/local/go/src/runtime/panic.go:884 +0x204
        os.(*Process).signal(0x96?, {0x104f85218?, 0x104e644f0?})
        	/usr/local/go/src/os/exec_unix.go:63 +0x2c
        os.(*Process).Signal(...)
        	/usr/local/go/src/os/exec.go:138
        github.com/Yandex-Practicum/go-autotests/internal/fork.(*BackgroundProcess).Stop(0x14000189cb0, {0x140000ddca0?, 0x2, 0x104e81f9f?})
        	/__w/go-autotests/go-autotests/internal/fork/process.go:130 +0x84
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.(*Iteration1Suite).TearDownSuite(0x14000095810)
        	/__w/go-autotests/go-autotests/cmd/metricstest/iteration1_test.go:60 +0x78
        github.com/stretchr/testify/suite.Run.func2()
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:183 +0x5c
        github.com/stretchr/testify/suite.Run(0x140000831e0, {0x104f839b8, 0x14000095810})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:194 +0x618
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.TestIteration1(0x0?)
        	/__w/go-autotests/go-autotests/cmd/metricstest/main_test.go:17 +0x3c
        testing.tRunner(0x140000831e0, 0x104f7e718)
        	/usr/local/go/src/testing/testing.go:1576 +0x10c
        created by testing.(*T).Run
        	/usr/local/go/src/testing/testing.go:1629 +0x368
--- FAIL: TestIteration1 (0.02s)
    --- PASS: TestIteration1/TestCounterHandlers (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
    iteration2a_test.go:47: Не удалось дождаться пока на порт 8080 начнут поступать данные: context deadline exceeded
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        &{POST http://localhostlocalhost:8080/update/gauge/HeapObjects/572.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a8018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/HeapObjects/572.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/MSpanInuse/44000.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a8018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/MSpanInuse/44000.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/PauseTotalNs/0.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a8018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp: lookup localhostlocalhost: no such host
        interrupt
--- FAIL: TestIteration2A (20.01s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (0.76s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (0.76s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
    iteration3b_test.go:46: Невозможно запустить процесс командой cmd/server/ser: fork/exec cmd/server/ser: no such file or directory. Переменные окружения: [DATAGRIP_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/datagrip.vmoptions PATH=/usr/local/go/bin:/Users/nikitabar/go/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin PYCHARM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/pycharm.vmoptions WEBSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webstorm.vmoptions CLION_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/clion.vmoptions JETBRAINSCLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrainsclient.vmoptions TERM=xterm-256color FIG_JETBRAINS_SHELL_INTEGRATION=1 GATEWAY_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/gateway.vmoptions COMMAND_MODE=unix2003 GOLAND_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/goland.vmoptions IDEA_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/idea.vmoptions RIDER_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rider.vmoptions RUBYMINE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rubymine.vmoptions JETBRAINS_CLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrains_client.vmoptions DEVECOSTUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/devecostudio.vmoptions LOGNAME=nikitabar STUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/studio.vmoptions XPC_SERVICE_NAME=0 __CFBundleIdentifier=com.jetbrains.goland SHELL=/bin/zsh APPCODE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/appcode.vmoptions GOPATH=/Users/nikitabar/go USER=nikitabar GOROOT=/usr/local/go TMPDIR=/var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/ TERMINAL_EMULATOR=JetBrains-JediTerm GO111MODULE=on DATASPELL_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/dataspell.vmoptions SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.BLdHtSXQuX/Listeners XPC_FLAGS=0x0 WEBIDE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webide.vmoptions TERM_SESSION_ID=99213953-e7d4-4e0c-9f3e-e22aca3cc469 __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0 PHPSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/phpstorm.vmoptions LC_CTYPE=UTF-8 HOME=/Users/nikitabar SHLVL=1 PWD=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc OLDPWD=/Users/nikitabar/Dev/test_metric HOMEBREW_PREFIX=/opt/homebrew HOMEBREW_CELLAR=/opt/homebrew/Cellar HOMEBREW_REPOSITORY=/opt/homebrew MANPATH=/opt/homebrew/share/man:: INFOPATH=/opt/homebrew/share/info: _=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc/./metricstest RESTORE=false]
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    suite.go:77: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 67 [running]:
        runtime/debug.Stack()
        	/usr/local/go/src/runtime/debug/stack.go:24 +0x64
        github.com/stretchr/testify/suite.failOnPanic(0x14000428340, {0x104edc800, 0x1053cad40})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:77 +0x34
        github.com/stretchr/testify/suite.recoverAndFailOnPanic(0x140000dd9d8?)
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:72 +0x3c
        panic({0x104edc800, 0x1053cad40})
        	/usr/local/go/src/runtime/panic.go:884 +0x204
        os.(*Process).signal(0x95?, {0x104f85218?, 0x104e644f0?})
        	/usr/local/go/src/os/exec_unix.go:63 +0x2c
        os.(*Process).Signal(...)
        	/usr/local/go/src/os/exec.go:138
        github.com/Yandex-Practicum/go-autotests/internal/fork.(*BackgroundProcess).Stop(0x140004ea7e0, {0x140000ddca0?, 0x2, 0x104e81f9f?})
        	/__w/go-autotests/go-autotests/internal/fork/process.go:130 +0x84
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.(*Iteration3BSuite).TearDownSuite(0x14000465bd0)
        	/__w/go-autotests/go-autotests/cmd/metricstest/iteration3b_test.go:63 +0x78
        github.com/stretchr/testify/suite.Run.func2()
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:183 +0x5c
        github.com/stretchr/testify/suite.Run(0x14000428340, {0x104f83a58, 0x14000465bd0})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:194 +0x618
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.TestIteration3B(0x0?)
        	/__w/go-autotests/go-autotests/cmd/metricstest/main_test.go:33 +0x3c
        testing.tRunner(0x14000428340, 0x104f7e738)
        	/usr/local/go/src/testing/testing.go:1576 +0x10c
        created by testing.(*T).Run
        	/usr/local/go/src/testing/testing.go:1629 +0x368
--- FAIL: TestIteration3B (0.01s)
    --- PASS: TestIteration3B/TestCounter (0.00s)
        --- PASS: TestIteration3B/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
    iteration4_test.go:98: Не удалось дождаться пока на порт 8080 начнут поступать данные: context deadline exceeded
    iteration4_test.go:73: Невозможно запустить процесс командой "cmd/server/ser -a=localhost:8080": context deadline exceeded. Переменные окружения: [DATAGRIP_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/datagrip.vmoptions PATH=/usr/local/go/bin:/Users/nikitabar/go/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin PYCHARM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/pycharm.vmoptions WEBSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webstorm.vmoptions CLION_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/clion.vmoptions JETBRAINSCLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrainsclient.vmoptions TERM=xterm-256color FIG_JETBRAINS_SHELL_INTEGRATION=1 GATEWAY_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/gateway.vmoptions COMMAND_MODE=unix2003 GOLAND_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/goland.vmoptions IDEA_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/idea.vmoptions RIDER_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rider.vmoptions RUBYMINE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rubymine.vmoptions JETBRAINS_CLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrains_client.vmoptions DEVECOSTUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/devecostudio.vmoptions LOGNAME=nikitabar STUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/studio.vmoptions XPC_SERVICE_NAME=0 __CFBundleIdentifier=com.jetbrains.goland SHELL=/bin/zsh APPCODE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/appcode.vmoptions GOPATH=/Users/nikitabar/go USER=nikitabar GOROOT=/usr/local/go TMPDIR=/var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/ TERMINAL_EMULATOR=JetBrains-JediTerm GO111MODULE=on DATASPELL_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/dataspell.vmoptions SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.BLdHtSXQuX/Listeners XPC_FLAGS=0x0 WEBIDE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webide.vmoptions TERM_SESSION_ID=99213953-e7d4-4e0c-9f3e-e22aca3cc469 __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0 PHPSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/phpstorm.vmoptions LC_CTYPE=UTF-8 HOME=/Users/nikitabar SHLVL=1 PWD=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc OLDPWD=/Users/nikitabar/Dev/test_metric HOMEBREW_PREFIX=/opt/homebrew HOMEBREW_CELLAR=/opt/homebrew/Cellar HOMEBREW_REPOSITORY=/opt/homebrew MANPATH=/opt/homebrew/share/man:: INFOPATH=/opt/homebrew/share/info: _=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc/./metricstest RESTORE=false], флаги командной строки: [-a=localhost:8080]
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
=== RUN   TestIteration4/TestCounter/get_unknown
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
=== RUN   TestIteration4/TestGauge/get_unknown
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        &{POST http://localhostlocalhost:8080/update/gauge/Lookups/0.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x1400001e0a0}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/Lookups/0.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/MSpanInuse/33600.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x1400001e0a0}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/MSpanInuse/33600.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/StackInuse/327680.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x1400001e0a0}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/StackInuse/327680.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/NumGC/0.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x1400001e0a0}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/NumGC/0.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/OtherSys/1007156.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x1400001e0a0}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/OtherSys/1007156.00": dial tcp: lookup localhostlocalhost: no such host
        interrupt
    suite.go:77: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 93 [running]:
        runtime/debug.Stack()
        	/usr/local/go/src/runtime/debug/stack.go:24 +0x64
        github.com/stretchr/testify/suite.failOnPanic(0x14000429380, {0x104edc800, 0x1053cad40})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:77 +0x34
        github.com/stretchr/testify/suite.recoverAndFailOnPanic(0x140002ac000?)
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:72 +0x3c
        panic({0x104edc800, 0x1053cad40})
        	/usr/local/go/src/runtime/panic.go:884 +0x204
        os.(*Process).signal(0x0?, {0x104f85218?, 0x104e644f0?})
        	/usr/local/go/src/os/exec_unix.go:63 +0x2c
        os.(*Process).Signal(...)
        	/usr/local/go/src/os/exec.go:138
        github.com/Yandex-Practicum/go-autotests/internal/fork.(*BackgroundProcess).Stop(0x140001885d0, {0x140000ddc80?, 0x2, 0x140000ddc70?})
        	/__w/go-autotests/go-autotests/internal/fork/process.go:130 +0x84
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.(*Iteration4Suite).serverShutdown(0x14000406370)
        	/__w/go-autotests/go-autotests/cmd/metricstest/iteration4_test.go:113 +0x78
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.(*Iteration4Suite).TearDownSuite(0x140000ddd48?)
        	/__w/go-autotests/go-autotests/cmd/metricstest/iteration4_test.go:105 +0x28
        github.com/stretchr/testify/suite.Run.func2()
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:183 +0x5c
        github.com/stretchr/testify/suite.Run(0x14000429380, {0x104f83a80, 0x14000406370})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:194 +0x618
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.TestIteration4(0x0?)
        	/__w/go-autotests/go-autotests/cmd/metricstest/main_test.go:37 +0x3c
        testing.tRunner(0x14000429380, 0x104f7e740)
        	/usr/local/go/src/testing/testing.go:1576 +0x10c
        created by testing.(*T).Run
        	/usr/local/go/src/testing/testing.go:1629 +0x368
--- FAIL: TestIteration4 (20.01s)
    --- PASS: TestIteration4/TestCounter (0.01s)
        --- PASS: TestIteration4/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration4/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration4/TestGauge (0.00s)
        --- PASS: TestIteration4/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
    iteration5_test.go:83: Не удалось дождаться пока на порт 8080 начнут поступать данные: context deadline exceeded
    iteration5_test.go:59: Невозможно запустить процесс командой "cmd/server/ser": context deadline exceeded. Переменные окружения: [DATAGRIP_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/datagrip.vmoptions PATH=/usr/local/go/bin:/Users/nikitabar/go/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin PYCHARM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/pycharm.vmoptions WEBSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webstorm.vmoptions CLION_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/clion.vmoptions JETBRAINSCLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrainsclient.vmoptions TERM=xterm-256color FIG_JETBRAINS_SHELL_INTEGRATION=1 GATEWAY_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/gateway.vmoptions COMMAND_MODE=unix2003 GOLAND_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/goland.vmoptions IDEA_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/idea.vmoptions RIDER_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rider.vmoptions RUBYMINE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rubymine.vmoptions JETBRAINS_CLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrains_client.vmoptions DEVECOSTUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/devecostudio.vmoptions LOGNAME=nikitabar STUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/studio.vmoptions XPC_SERVICE_NAME=0 __CFBundleIdentifier=com.jetbrains.goland SHELL=/bin/zsh APPCODE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/appcode.vmoptions GOPATH=/Users/nikitabar/go USER=nikitabar GOROOT=/usr/local/go TMPDIR=/var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/ TERMINAL_EMULATOR=JetBrains-JediTerm GO111MODULE=on DATASPELL_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/dataspell.vmoptions SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.BLdHtSXQuX/Listeners XPC_FLAGS=0x0 WEBIDE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webide.vmoptions TERM_SESSION_ID=99213953-e7d4-4e0c-9f3e-e22aca3cc469 __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0 PHPSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/phpstorm.vmoptions LC_CTYPE=UTF-8 HOME=/Users/nikitabar SHLVL=1 PWD=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc OLDPWD=/Users/nikitabar/Dev/test_metric HOMEBREW_PREFIX=/opt/homebrew HOMEBREW_CELLAR=/opt/homebrew/Cellar HOMEBREW_REPOSITORY=/opt/homebrew MANPATH=/opt/homebrew/share/man:: INFOPATH=/opt/homebrew/share/info: _=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc/./metricstest ADDRESS=localhost:8080 REPORT_INTERVAL=5 POLL_INTERVAL=1 RESTORE=false]
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
=== RUN   TestIteration5/TestCounter/get_unknown
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
=== RUN   TestIteration5/TestGauge/get_unknown
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        &{POST http://localhostlocalhost:8080/update/gauge/MSpanInuse/44000.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a6018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/MSpanInuse/44000.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/Mallocs/589.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a6018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/Mallocs/589.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/NumForcedGC/0.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a6018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/NumForcedGC/0.00": dial tcp: lookup localhostlocalhost: no such host
        &{POST http://localhostlocalhost:8080/update/gauge/StackSys/360448.00 HTTP/1.1 1 1 map[Content-Type:[text/plain]] <nil> <nil> 0 [] false localhostlocalhost:8080 map[] map[] <nil> map[]   <nil> <nil> <nil> 0x140000a6018}
        <nil>
        Post "http://localhostlocalhost:8080/update/gauge/StackSys/360448.00": dial tcp: lookup localhostlocalhost: no such host
        interrupt
    suite.go:77: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 110 [running]:
        runtime/debug.Stack()
        	/usr/local/go/src/runtime/debug/stack.go:24 +0x64
        github.com/stretchr/testify/suite.failOnPanic(0x140001bf380, {0x104edc800, 0x1053cad40})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:77 +0x34
        github.com/stretchr/testify/suite.recoverAndFailOnPanic(0x140000ad040?)
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:72 +0x3c
        panic({0x104edc800, 0x1053cad40})
        	/usr/local/go/src/runtime/panic.go:884 +0x204
        os.(*Process).signal(0x0?, {0x104f85218?, 0x104e644f0?})
        	/usr/local/go/src/os/exec_unix.go:63 +0x2c
        os.(*Process).Signal(...)
        	/usr/local/go/src/os/exec.go:138
        github.com/Yandex-Practicum/go-autotests/internal/fork.(*BackgroundProcess).Stop(0x140003ad950, {0x140000ddc80?, 0x2, 0x140000ddc70?})
        	/__w/go-autotests/go-autotests/internal/fork/process.go:130 +0x84
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.(*Iteration5Suite).serverShutdown(0x140001926e0)
        	/__w/go-autotests/go-autotests/cmd/metricstest/iteration5_test.go:98 +0x78
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.(*Iteration5Suite).TearDownSuite(0x140000ddd48?)
        	/__w/go-autotests/go-autotests/cmd/metricstest/iteration5_test.go:90 +0x28
        github.com/stretchr/testify/suite.Run.func2()
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:183 +0x5c
        github.com/stretchr/testify/suite.Run(0x140001bf380, {0x104f83aa8, 0x140001926e0})
        	/go/pkg/mod/github.com/stretchr/testify@v1.8.0/suite/suite.go:194 +0x618
        github.com/Yandex-Practicum/go-autotests/cmd/metricstest.TestIteration5(0x104f833a0?)
        	/__w/go-autotests/go-autotests/cmd/metricstest/main_test.go:41 +0x3c
        testing.tRunner(0x140001bf380, 0x104f7e748)
        	/usr/local/go/src/testing/testing.go:1576 +0x10c
        created by testing.(*T).Run
        	/usr/local/go/src/testing/testing.go:1629 +0x368
--- FAIL: TestIteration5 (20.01s)
    --- PASS: TestIteration5/TestCounter (0.01s)
        --- PASS: TestIteration5/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration5/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration5/TestGauge (0.00s)
        --- PASS: TestIteration5/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
    iteration6_test.go:45: Не найдено использование хотя бы одного известного логгера по пути .
--- FAIL: TestIteration6 (0.01s)
    --- FAIL: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
    iteration7_test.go:94: Не удалось дождаться пока на порт 8080 начнут поступать данные: context deadline exceeded
    iteration7_test.go:70: Невозможно запустить процесс командой cmd/server/ser: context deadline exceeded. Переменные окружения: [DATAGRIP_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/datagrip.vmoptions PATH=/usr/local/go/bin:/Users/nikitabar/go/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin PYCHARM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/pycharm.vmoptions WEBSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webstorm.vmoptions CLION_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/clion.vmoptions JETBRAINSCLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrainsclient.vmoptions TERM=xterm-256color FIG_JETBRAINS_SHELL_INTEGRATION=1 GATEWAY_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/gateway.vmoptions COMMAND_MODE=unix2003 GOLAND_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/goland.vmoptions IDEA_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/idea.vmoptions RIDER_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rider.vmoptions RUBYMINE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/rubymine.vmoptions JETBRAINS_CLIENT_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/jetbrains_client.vmoptions DEVECOSTUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/devecostudio.vmoptions LOGNAME=nikitabar STUDIO_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/studio.vmoptions XPC_SERVICE_NAME=0 __CFBundleIdentifier=com.jetbrains.goland SHELL=/bin/zsh APPCODE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/appcode.vmoptions GOPATH=/Users/nikitabar/go USER=nikitabar GOROOT=/usr/local/go TMPDIR=/var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/ TERMINAL_EMULATOR=JetBrains-JediTerm GO111MODULE=on DATASPELL_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/dataspell.vmoptions SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.BLdHtSXQuX/Listeners XPC_FLAGS=0x0 WEBIDE_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/webide.vmoptions TERM_SESSION_ID=99213953-e7d4-4e0c-9f3e-e22aca3cc469 __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0 PHPSTORM_VM_OPTIONS=/Library/Application Support/jetLicense//vmoptions/phpstorm.vmoptions LC_CTYPE=UTF-8 HOME=/Users/nikitabar SHLVL=1 PWD=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc OLDPWD=/Users/nikitabar/Dev/test_metric HOMEBREW_PREFIX=/opt/homebrew HOMEBREW_CELLAR=/opt/homebrew/Cellar HOMEBREW_REPOSITORY=/opt/homebrew MANPATH=/opt/homebrew/share/man:: INFOPATH=/opt/homebrew/share/info: _=/Users/nikitabar/Dev/test_metric/metrics_and_alertinc/./metricstest RESTORE=false]
=== RUN   TestIteration7/TestCollectAgentMetrics
