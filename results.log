=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        1
        []
        {testCounter counter 100 0}
        [{testCounter counter 100 0}]
        6
        7
        1
        []
        1
        []
        4
        {testGauge gauge 0 100}
        [{testGauge gauge 0 100}]
        6
        7
        1
        []
        4
        1
        []
        Server Graceful Shutdown interrupt
--- PASS: TestIteration1 (0.11s)
    --- PASS: TestIteration1/TestCounterHandlers (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": EOF
        Agent Graceful Shutdown interrupt
--- PASS: TestIteration2A (10.03s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (1.09s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (1.09s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        1
        []
        {testSetGet149 counter 556 0}
        [{testSetGet149 counter 556 0}]
        6
        7
        1
        []
        {testSetGet149 counter 410 0}
        [{testSetGet149 counter 410 0}]
        6
        7
        1
        []
        {testSetGet149 counter 521 0}
        [{testSetGet149 counter 521 0}]
        6
        7
        1
        []
        4
        {testSetGet226 gauge 0 906704.671}
        [{testSetGet226 gauge 0 906704.671}]
        6
        7
        1
        []
        4
        {testSetGet226 gauge 0 87583.456}
        [{testSetGet226 gauge 0 87583.456}]
        6
        7
        1
        []
        4
        {testSetGet226 gauge 0 792363.171}
        [{testSetGet226 gauge 0 792363.171}]
        6
        7
        Server Graceful Shutdown interrupt
--- PASS: TestIteration3B (0.11s)
    --- PASS: TestIteration3B/TestCounter (0.00s)
        --- PASS: TestIteration3B/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
=== RUN   TestIteration4/TestCounter/get_unknown
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
=== RUN   TestIteration4/TestGauge/get_unknown
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149808.00": read tcp [::1]:57990->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149808.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/353.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/364.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.12": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3121152.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/679936.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149808.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3121152.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3801088.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1007400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/2": dial tcp [::1]:8080: connect: connection refused
        Agent Graceful Shutdown interrupt
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        1
        []
        {testSetGet185 counter 161 0}
        [{testSetGet185 counter 161 0}]
        6
        7
        1
        []
        {testSetGet185 counter 791 0}
        [{testSetGet185 counter 791 0}]
        6
        7
        1
        []
        {testSetGet185 counter 248 0}
        [{testSetGet185 counter 248 0}]
        6
        7
        1
        []
        4
        {testSetGet28 gauge 0 887315.758}
        [{testSetGet28 gauge 0 887315.758}]
        6
        7
        1
        []
        4
        {testSetGet28 gauge 0 215860.421}
        [{testSetGet28 gauge 0 215860.421}]
        6
        7
        1
        []
        4
        {testSetGet28 gauge 0 792681.453}
        [{testSetGet28 gauge 0 792681.453}]
        6
        7
        Server Graceful Shutdown interrupt
--- PASS: TestIteration4 (2.13s)
    --- PASS: TestIteration4/TestCounter (0.00s)
        --- PASS: TestIteration4/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration4/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration4/TestGauge (0.00s)
        --- PASS: TestIteration4/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
=== RUN   TestIteration5/TestCounter/get_unknown
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
=== RUN   TestIteration5/TestGauge/get_unknown
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.19": read tcp [::1]:58057->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/366.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/751424.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/737280.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/153848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3096576.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/153848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/355.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3031040.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/153848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2754888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        Agent Graceful Shutdown interrupt
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        1
        []
        {testSetGet27 counter 904 0}
        [{testSetGet27 counter 904 0}]
        6
        7
        1
        []
        {testSetGet27 counter 1004 0}
        [{testSetGet27 counter 1004 0}]
        6
        7
        1
        []
        {testSetGet27 counter 46 0}
        [{testSetGet27 counter 46 0}]
        6
        7
        1
        []
        4
        {testSetGet83 gauge 0 396543.239}
        [{testSetGet83 gauge 0 396543.239}]
        6
        7
        1
        []
        4
        {testSetGet83 gauge 0 586087.095}
        [{testSetGet83 gauge 0 586087.095}]
        6
        7
        1
        []
        4
        {testSetGet83 gauge 0 631654.944}
        [{testSetGet83 gauge 0 631654.944}]
        6
        7
        Server Graceful Shutdown interrupt
--- PASS: TestIteration5 (5.13s)
    --- PASS: TestIteration5/TestCounter (0.00s)
        --- PASS: TestIteration5/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration5/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration5/TestGauge (0.00s)
        --- PASS: TestIteration5/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:432: get gauge: "HeapReleased", value: 2514944.000000
    iteration7_test.go:432: get gauge: "HeapSys", value: 3768320.000000
    iteration7_test.go:432: get gauge: "LastGC", value: 0.000000
    iteration7_test.go:432: get gauge: "Lookups", value: 0.000000
    iteration7_test.go:432: get gauge: "MCacheInuse", value: 9600.000000
    iteration7_test.go:432: get gauge: "MCacheSys", value: 15600.000000
    iteration7_test.go:432: get gauge: "MSpanInuse", value: 35448.000000
    iteration7_test.go:432: get gauge: "MSpanSys", value: 48888.000000
    iteration7_test.go:432: get gauge: "NextGC", value: 4194304.000000
    iteration7_test.go:432: get gauge: "NumForcedGC", value: 0.000000
    iteration7_test.go:432: get gauge: "NumGC", value: 0.000000
    iteration7_test.go:432: get gauge: "OtherSys", value: 921048.000000
    iteration7_test.go:432: get gauge: "PauseTotalNs", value: 0.000000
    iteration7_test.go:432: get gauge: "StackInuse", value: 425984.000000
    iteration7_test.go:432: get gauge: "StackSys", value: 425984.000000
    iteration7_test.go:432: get gauge: "Sys", value: 8031248.000000
    iteration7_test.go:432: get gauge: "BuckHashSys", value: 4000.000000
    iteration7_test.go:432: get gauge: "GCCPUFraction", value: 0.000000
    iteration7_test.go:432: get gauge: "GCSys", value: 2847408.000000
    iteration7_test.go:432: get gauge: "HeapInuse", value: 1245184.000000
    iteration7_test.go:432: get gauge: "HeapObjects", value: 5228.000000
    iteration7_test.go:432: get gauge: "Mallocs", value: 5446.000000
    iteration7_test.go:432: get gauge: "TotalAlloc", value: 533736.000000
    iteration7_test.go:439: get counter: "PollCount", value: 25
    iteration7_test.go:432: get gauge: "RandomValue", value: 0.280000
    iteration7_test.go:432: get gauge: "Alloc", value: 533736.000000
    iteration7_test.go:432: get gauge: "Frees", value: 218.000000
    iteration7_test.go:432: get gauge: "HeapAlloc", value: 533736.000000
    iteration7_test.go:432: get gauge: "HeapIdle", value: 2490368.000000
=== RUN   TestIteration7/TestCollectAgentMetrics/counter/PollCount
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Alloc
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Frees
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
=== RUN   TestIteration7/TestEncoderUsage
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
=== NAME  TestIteration7
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150032.00": read tcp [::1]:58123->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150032.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3072000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/761856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/363.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3006464.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.50": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/745256.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/352.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150032.00": dial tcp [::1]:8080: connect: connection refused
        Agent Graceful Shutdown interrupt
    iteration7_test.go:131: Получен STDOUT лог процесса:
        
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        1
        []
        4
        {HeapInuse gauge 0 1.18784e+06}
        [{HeapInuse gauge 0 1.18784e+06}]
        6
        7
        1
        []
        4
        {MCacheInuse gauge 0 9600}
        [{MCacheInuse gauge 0 9600}]
        6
        7
        1
        []
        4
        {MSpanInuse gauge 0 35448}
        [{MSpanInuse gauge 0 35448}]
        6
        7
        1
        []
        4
        {Mallocs gauge 0 3986}
        [{Mallocs gauge 0 3986}]
        6
        7
        1
        []
        4
        {RandomValue gauge 0 0.24}
        [{RandomValue gauge 0 0.24}]
        6
        7
        1
        []
        4
        {GCCPUFraction gauge 0 0}
        [{GCCPUFraction gauge 0 0}]
        6
        7
        1
        []
        4
        {HeapReleased gauge 0 2.514944e+06}
        [{HeapReleased gauge 0 2.514944e+06}]
        6
        7
        1
        []
        4
        {PauseTotalNs gauge 0 0}
        [{PauseTotalNs gauge 0 0}]
        6
        7
        1
        []
        4
        {StackInuse gauge 0 425984}
        [{StackInuse gauge 0 425984}]
        6
        7
        1
        []
        4
        {Sys gauge 0 8.031248e+06}
        [{Sys gauge 0 8.031248e+06}]
        6
        7
        1
        []
        4
        {OtherSys gauge 0 921048}
        [{OtherSys gauge 0 921048}]
        6
        7
        1
        []
        4
        {TotalAlloc gauge 0 403216}
        [{TotalAlloc gauge 0 403216}]
        6
        7
        1
        []
        4
        {GCSys gauge 0 2.847408e+06}
        [{GCSys gauge 0 2.847408e+06}]
        6
        7
        1
        []
        4
        {HeapObjects gauge 0 3822}
        [{HeapObjects gauge 0 3822}]
        6
        7
        1
        []
        4
        {Lookups gauge 0 0}
        [{Lookups gauge 0 0}]
        6
        7
        1
        []
        4
        {MCacheSys gauge 0 15600}
        [{MCacheSys gauge 0 15600}]
        6
        7
        1
        []
        4
        {StackSys gauge 0 425984}
        [{StackSys gauge 0 425984}]
        6
        7
        1
        []
        4
        {Alloc gauge 0 403216}
        [{Alloc gauge 0 403216}]
        6
        7
        1
        []
        4
        {HeapAlloc gauge 0 403216}
        [{HeapAlloc gauge 0 403216}]
        6
        7
        1
        []
        4
        {HeapSys gauge 0 3.76832e+06}
        [{HeapSys gauge 0 3.76832e+06}]
        6
        7
        1
        []
        4
        {MSpanSys gauge 0 48888}
        [{MSpanSys gauge 0 48888}]
        6
        7
        1
        []
        4
        {NumGC gauge 0 0}
        [{NumGC gauge 0 0}]
        6
        7
        1
        []
        4
        {HeapIdle gauge 0 2.58048e+06}
        [{HeapIdle gauge 0 2.58048e+06}]
        6
        7
        1
        []
        4
        {NextGC gauge 0 4.194304e+06}
        [{NextGC gauge 0 4.194304e+06}]
        6
        7
        1
        []
        {PollCount counter 10 0}
        [{PollCount counter 10 0}]
        6
        7
        1
        []
        4
        {BuckHashSys gauge 0 4000}
        [{BuckHashSys gauge 0 4000}]
        6
        7
        1
        []
        4
        {Frees gauge 0 164}
        [{Frees gauge 0 164}]
        6
        7
        1
        []
        4
        {LastGC gauge 0 0}
        [{LastGC gauge 0 0}]
        6
        7
        1
        []
        4
        {NumForcedGC gauge 0 0}
        [{NumForcedGC gauge 0 0}]
        6
        7
        1
        []
        4
        {HeapObjects gauge 0 5228}
        [{HeapObjects gauge 0 5228}]
        6
        7
        1
        []
        4
        {Lookups gauge 0 0}
        [{Lookups gauge 0 0}]
        6
        7
        1
        []
        4
        {MCacheSys gauge 0 15600}
        [{MCacheSys gauge 0 15600}]
        6
        7
        1
        []
        4
        {StackSys gauge 0 458752}
        [{StackSys gauge 0 458752}]
        6
        7
        1
        []
        4
        {TotalAlloc gauge 0 533736}
        [{TotalAlloc gauge 0 533736}]
        6
        7
        1
        []
        4
        {GCSys gauge 0 2.853576e+06}
        [{GCSys gauge 0 2.853576e+06}]
        6
        7
        1
        []
        4
        {HeapAlloc gauge 0 533736}
        [{HeapAlloc gauge 0 533736}]
        6
        7
        1
        []
        4
        {HeapSys gauge 0 3.735552e+06}
        [{HeapSys gauge 0 3.735552e+06}]
        6
        7
        1
        []
        4
        {MSpanSys gauge 0 48888}
        [{MSpanSys gauge 0 48888}]
        6
        7
        1
        []
        4
        {NumGC gauge 0 0}
        [{NumGC gauge 0 0}]
        6
        7
        1
        []
        4
        {Alloc gauge 0 533736}
        [{Alloc gauge 0 533736}]
        6
        7
        1
        []
        4
        {NextGC gauge 0 4.194304e+06}
        [{NextGC gauge 0 4.194304e+06}]
        6
        7
        1
        []
        4
        {HeapIdle gauge 0 2.490368e+06}
        [{HeapIdle gauge 0 2.490368e+06}]
        6
        7
        1
        []
        {PollCount counter 15 0}
        [{PollCount counter 15 0}]
        6
        7
        1
        []
        4
        {Frees gauge 0 218}
        [{Frees gauge 0 218}]
        6
        7
        1
        []
        4
        {LastGC gauge 0 0}
        [{LastGC gauge 0 0}]
        6
        7
        1
        []
        4
        {NumForcedGC gauge 0 0}
        [{NumForcedGC gauge 0 0}]
        6
        7
        1
        []
        4
        {BuckHashSys gauge 0 4000}
        [{BuckHashSys gauge 0 4000}]
        6
        7
        1
        []
        4
        {MCacheInuse gauge 0 9600}
        [{MCacheInuse gauge 0 9600}]
        6
        7
        1
        []
        4
        {MSpanInuse gauge 0 35448}
        [{MSpanInuse gauge 0 35448}]
        6
        7
        1
        []
        4
        {Mallocs gauge 0 5446}
        [{Mallocs gauge 0 5446}]
        6
        7
        1
        []
        4
        {HeapInuse gauge 0 1.245184e+06}
        [{HeapInuse gauge 0 1.245184e+06}]
        6
        7
        1
        []
        4
        {HeapReleased gauge 0 2.424832e+06}
        [{HeapReleased gauge 0 2.424832e+06}]
        6
        7
        1
        []
        4
        {PauseTotalNs gauge 0 0}
        [{PauseTotalNs gauge 0 0}]
        6
        7
        1
        []
        4
        {StackInuse gauge 0 458752}
        [{StackInuse gauge 0 458752}]
        6
        7
        1
        []
        4
        {Sys gauge 0 8.031248e+06}
        [{Sys gauge 0 8.031248e+06}]
        6
        7
        1
        []
        4
        {RandomValue gauge 0 0.28}
        [{RandomValue gauge 0 0.28}]
        6
        7
        1
        []
        4
        {GCCPUFraction gauge 0 0}
        [{GCCPUFraction gauge 0 0}]
        6
        7
        1
        []
        4
        {OtherSys gauge 0 914880}
        [{OtherSys gauge 0 914880}]
        6
        7
        json: {GetSet94 counter 1012176875 0}
        jsonSlice: {GetSet94 counter 1012176875 0}
        json: {GetSet94 counter 1127171810 0}
        jsonSlice: {GetSet94 counter 1127171810 0}
        Server Graceful Shutdown interrupt
--- PASS: TestIteration7 (30.99s)
    --- PASS: TestIteration7/TestCollectAgentMetrics (20.86s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- PASS: TestIteration7/TestCounterHandlers (0.00s)
        --- PASS: TestIteration7/TestCounterHandlers/update (0.00s)
    --- PASS: TestIteration7/TestEncoderUsage (0.00s)
    --- PASS: TestIteration7/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
=== RUN   TestIteration8/TestCounterGzipHandlers
=== RUN   TestIteration8/TestCounterGzipHandlers/update
=== RUN   TestIteration8/TestGaugeGzipHandlers
=== RUN   TestIteration8/TestGaugeGzipHandlers/update
=== RUN   TestIteration8/TestGetGzipHandlers
=== RUN   TestIteration8/TestGetGzipHandlers/get_info_page
=== NAME  TestIteration8
    iteration8_test.go:152: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2767224.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/638976.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3194880.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1001232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/363.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.18": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/352.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3194880.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149848.00": dial tcp [::1]:8080: connect: connection refused
        Agent Graceful Shutdown interrupt
    iteration8_test.go:121: Получен STDOUT лог процесса:
        
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        json: {GetSetZip92 counter 1323989283 0}
        jsonSlice: {GetSetZip92 counter 1323989283 0}
        json: {GetSetZip92 counter 1215001282 0}
        jsonSlice: {GetSetZip92 counter 1215001282 0}
        Server Graceful Shutdown interrupt
--- PASS: TestIteration8 (10.13s)
    --- PASS: TestIteration8/TestCounterGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestCounterGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGaugeGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGetGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGetGzipHandlers/get_info_page (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:37: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:37
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-file-storage-path non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
    iteration10a_test.go:75: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
    iteration10a_test.go:145: Не удалось получить код ответа 200 от хендлера 'GET /ping' за отведенное время
=== NAME  TestIteration10A
    iteration10a_test.go:99: Процесс завершился с не нулевым статусом 2
    iteration10a_test.go:111: Получен STDOUT лог процесса:
        
        panic: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:48 +0x8d8
--- FAIL: TestIteration10A (30.02s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.01s)
    --- FAIL: TestIteration10A/TestPingHandler (10.01s)
=== RUN   TestIteration10B
    iteration10b_test.go:70: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
=== NAME  TestIteration10B
    iteration10b_test.go:94: Процесс завершился с не нулевым статусом 2
    iteration10b_test.go:106: Получен STDOUT лог процесса:
        
        panic: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:48 +0x8d8
--- PASS: TestIteration10B (30.01s)
    --- PASS: TestIteration10B/TestPingHandlerWithWrongSettings (10.00s)
=== RUN   TestIteration11
    iteration11_test.go:77: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration11/TestInspectDatabase
=== RUN   TestIteration11/TestInspectDatabase/populate_counter
    iteration11_test.go:164: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:164
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration11/TestInspectDatabase/populate_counter
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration11_test.go:172: Оригинальный запрос:
        
        POST /update/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration11/TestInspectDatabase/delay
=== RUN   TestIteration11/TestInspectDatabase/inspect
    iteration11_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Expected value not to be nil.
        	Test:       	TestIteration11/TestInspectDatabase/inspect
        	Messages:   	Невозможно проинспектировать базу данных, нет подключения
--- FAIL: TestIteration11 (5.02s)
    --- FAIL: TestIteration11/TestInspectDatabase (5.01s)
        --- FAIL: TestIteration11/TestInspectDatabase/populate_counter (0.01s)
        --- PASS: TestIteration11/TestInspectDatabase/delay (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/inspect (0.00s)
=== RUN   TestIteration12
    iteration12_test.go:78: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration12/TestBatchAPI
=== RUN   TestIteration12/TestBatchAPI/get_random_counter
    iteration12_test.go:165: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:165
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/get_random_counter
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:179: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration12/TestBatchAPI/batch_update_random_metrics
    iteration12_test.go:217: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:217
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/updates/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/batch_update_random_metrics
        	Messages:   	Ошибка при попытке сделать запрос с обновлением списка метрик
    iteration12_test.go:224: Оригинальный запрос:
        
        POST /updates/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:226: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_counter_value
    iteration12_test.go:240: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:240
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_counter_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:255: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:257: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_gauge_value
    iteration12_test.go:271: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:271
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_gauge_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения gauge
    iteration12_test.go:286: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:288: Оригинальный ответ:
        
--- FAIL: TestIteration12 (0.01s)
    --- FAIL: TestIteration12/TestBatchAPI (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/get_random_counter (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/batch_update_random_metrics (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_counter_value (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_gauge_value (0.00s)
=== RUN   TestIteration13
    iteration13_test.go:76: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration13/TestCollectAgentMetrics
    iteration13_test.go:389: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:389
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration13/TestCollectAgentMetrics
        	Messages:   	Ошибка при попытке сделать запрос с получением значения PollCount
    iteration13_test.go:413: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration13_test.go:415: Оригинальный ответ:
        
=== RUN   TestIteration13/TestCounterGzipHandlers
=== RUN   TestIteration13/TestCounterGzipHandlers/update
    iteration13_test.go:188: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:188
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration13/TestCounterGzipHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration13_test.go:203: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration13/TestGaugeGzipHandlers
=== RUN   TestIteration13/TestGaugeGzipHandlers/update
    iteration13_test.go:279: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:279
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration13/TestGaugeGzipHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration13_test.go:308: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration13_test.go:310: Оригинальный ответ:
        
=== NAME  TestIteration13
    iteration13_test.go:164: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/359.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/370.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/154464.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3014656.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35616.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/753664.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/154464.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.15": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2754888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3080192.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/751424.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/154464.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/405864.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2482176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/46368.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1187840.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/405864.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.93": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2841240.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8293392.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2580480.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1189360.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/20": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/405864.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/3817.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/3978.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3768320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/161.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        Agent Graceful Shutdown interrupt
    iteration13_test.go:120: Процесс завершился с не нулевым статусом 2
    iteration13_test.go:132: Получен STDOUT лог процесса:
        
        panic: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:48 +0x8d8
--- FAIL: TestIteration13 (20.11s)
    --- FAIL: TestIteration13/TestCollectAgentMetrics (0.10s)
    --- FAIL: TestIteration13/TestCounterGzipHandlers (0.00s)
        --- FAIL: TestIteration13/TestCounterGzipHandlers/update (0.00s)
    --- FAIL: TestIteration13/TestGaugeGzipHandlers (0.00s)
        --- FAIL: TestIteration13/TestGaugeGzipHandlers/update (0.00s)
=== RUN   TestIteration14
    iteration14_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-key non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
