=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration1 (0.12s)
    --- PASS: TestIteration1/TestCounterHandlers (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": read tcp [::1]:55156->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150192.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150192.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/753664.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/351.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/362.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.11": dial tcp [::1]:8080: connect: connection refused
        interrupt
--- PASS: TestIteration2A (10.05s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (1.05s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (1.04s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
    iteration3b_test.go:189: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:189
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "559"
        	            	actual  : "476"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-559
        	            	+476
        	Test:       	TestIteration3B/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (559) полученному от сервера (476), 'GET http://localhost:8080/value/counter/testSetGet231'
    iteration3b_test.go:194: Оригинальный запрос:
        
        GET /value/counter/testSetGet231 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:189: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:189
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "1252"
        	            	actual  : "693"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-1252
        	            	+693
        	Test:       	TestIteration3B/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (1252) полученному от сервера (693), 'GET http://localhost:8080/value/counter/testSetGet231'
    iteration3b_test.go:194: Оригинальный запрос:
        
        GET /value/counter/testSetGet231 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- FAIL: TestIteration3B (0.11s)
    --- FAIL: TestIteration3B/TestCounter (0.01s)
        --- FAIL: TestIteration3B/TestCounter/update_sequence (0.01s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
    iteration4_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "644"
        	            	actual  : "556"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-644
        	            	+556
        	Test:       	TestIteration4/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (644) полученному от сервера (556), 'GET http://localhost:8080/value/counter/testSetGet4'
    iteration4_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testSetGet4 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "1628"
        	            	actual  : "984"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-1628
        	            	+984
        	Test:       	TestIteration4/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (1628) полученному от сервера (984), 'GET http://localhost:8080/value/counter/testSetGet4'
    iteration4_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testSetGet4 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestCounter/get_unknown
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
=== RUN   TestIteration4/TestGauge/get_unknown
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/366.00": read tcp [::1]:55193->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150592.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/745256.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3022848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150592.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150592.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- FAIL: TestIteration4 (2.13s)
    --- FAIL: TestIteration4/TestCounter (0.00s)
        --- FAIL: TestIteration4/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration4/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration4/TestGauge (0.00s)
        --- PASS: TestIteration4/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
    iteration5_test.go:255: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:255
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "1447"
        	            	actual  : "709"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-1447
        	            	+709
        	Test:       	TestIteration5/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (1447) полученному от сервера (709), 'GET http://localhost:8080/value/counter/testSetGet224'
    iteration5_test.go:260: Оригинальный запрос:
        
        GET /value/counter/testSetGet224 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:255: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:255
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "2200"
        	            	actual  : "753"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-2200
        	            	+753
        	Test:       	TestIteration5/TestCounter/update_sequence
        	Messages:   	Несоответствие отправленного значения counter (2200) полученному от сервера (753), 'GET http://localhost:8080/value/counter/testSetGet224'
    iteration5_test.go:260: Оригинальный запрос:
        
        GET /value/counter/testSetGet224 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestCounter/get_unknown
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
=== RUN   TestIteration5/TestGauge/get_unknown
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": read tcp [::1]:55235->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/355.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1013568.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.07": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2754888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/154216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/154216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/712704.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/366.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3801088.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/154216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3088384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3088384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/46200.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- FAIL: TestIteration5 (5.13s)
    --- FAIL: TestIteration5/TestCounter (0.00s)
        --- FAIL: TestIteration5/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration5/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration5/TestGauge (0.00s)
        --- PASS: TestIteration5/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:432: get gauge: "HeapReleased", value: 2539520.000000
    iteration7_test.go:432: get gauge: "HeapSys", value: 3768320.000000
    iteration7_test.go:404: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:404
        	Error:      	Should be true
        	Test:       	TestIteration7/TestCollectAgentMetrics
        	Messages:   	Получен не однозначный результат (тип метода не соответствует возвращаемому значению) '"POST" http://localhost:8080/value/'
    iteration7_test.go:421: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:423: Оригинальный ответ:
        
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
    iteration7_test.go:258: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:258
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 2227353980
        	            	actual  : 2067242095
        	Test:       	TestIteration7/TestCounterHandlers/update
        	Messages:   	Несоответствие расчетой суммы отправленных значений counter (2227353980) и полученной от сервера (2067242095), '"POST" http://localhost:8080/value/'
    iteration7_test.go:263: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:265: Оригинальный ответ:
        
=== RUN   TestIteration7/TestEncoderUsage
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
=== NAME  TestIteration7
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": read tcp [::1]:55302->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/745256.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/704512.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3129344.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.34": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/352.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/363.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3129344.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration7_test.go:131: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- FAIL: TestIteration7 (20.39s)
    --- FAIL: TestIteration7/TestCollectAgentMetrics (10.26s)
    --- FAIL: TestIteration7/TestCounterHandlers (0.01s)
        --- FAIL: TestIteration7/TestCounterHandlers/update (0.01s)
    --- PASS: TestIteration7/TestEncoderUsage (0.00s)
    --- PASS: TestIteration7/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
=== RUN   TestIteration8/TestCounterGzipHandlers
=== RUN   TestIteration8/TestCounterGzipHandlers/update
    iteration8_test.go:241: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:241
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 1805093294
        	            	actual  : 1208939475
        	Test:       	TestIteration8/TestCounterGzipHandlers/update
        	Messages:   	Несоответствие отправленного значения counter (1805093294) полученному от сервера (1208939475), '"POST" http://localhost:8080/value/'
    iteration8_test.go:246: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration8_test.go:248: Оригинальный ответ:
        
=== RUN   TestIteration8/TestGaugeGzipHandlers
=== RUN   TestIteration8/TestGaugeGzipHandlers/update
=== RUN   TestIteration8/TestGetGzipHandlers
=== RUN   TestIteration8/TestGetGzipHandlers/get_info_page
=== NAME  TestIteration8
    iteration8_test.go:152: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": read tcp [::1]:55371->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/720896.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.74": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/353.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3080192.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3801088.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/364.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3080192.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/745256.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration8_test.go:121: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- FAIL: TestIteration8 (10.14s)
    --- FAIL: TestIteration8/TestCounterGzipHandlers (0.01s)
        --- FAIL: TestIteration8/TestCounterGzipHandlers/update (0.01s)
    --- PASS: TestIteration8/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGaugeGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGetGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGetGzipHandlers/get_info_page (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:37: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:37
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-file-storage-path non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
    iteration10a_test.go:145: Не удалось получить код ответа 200 от хендлера 'GET /ping' за отведенное время
=== NAME  TestIteration10A
    iteration10a_test.go:111: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        2023/10/06 15:43:47 http: panic serving 127.0.0.1:55439: runtime error: invalid memory address or nil pointer dereference
        goroutine 12 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b33b0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8150}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8150?}, 0x14000010d84?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8150}, 0x140001d6200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8150?}, 0x104db0130?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e5e8}, 0x140001d6200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e5e8?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f02a0}, 0x140001d6200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8120?, {0x104a7e830?, 0x140000f02a0?}, 0x140000cb938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f02a0}, 0x140001d6200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f02a0}, 0x140001d6200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f02a0?}, 0x1400002a19c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f02a0}, 0x140001d6200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f02a0?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f02a0}, 0x140001d6100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8000?}, {0x104a7e830?, 0x140000f02a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000df710, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:48 http: panic serving 127.0.0.1:55442: runtime error: invalid memory address or nil pointer dereference
        goroutine 14 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b3490?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8360}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8360?}, 0x14000010e54?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8360}, 0x140001d6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8360?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e630}, 0x140001d6400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e630?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f0380}, 0x140001d6400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8330?, {0x104a7e830?, 0x140000f0380?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f0380}, 0x140001d6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f0380}, 0x140001d6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f0380?}, 0x1400002a1b4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f0380}, 0x140001d6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f0380?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f0380}, 0x140001d6300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8240?}, {0x104a7e830?, 0x140000f0380?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000df950, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:49 http: panic serving 127.0.0.1:55444: runtime error: invalid memory address or nil pointer dereference
        goroutine 16 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b3500?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8570}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8570?}, 0x14000010ea4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8570}, 0x140001d6600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8570?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e660}, 0x140001d6600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e660?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f0460}, 0x140001d6600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8540?, {0x104a7e830?, 0x140000f0460?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f0460}, 0x140001d6600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f0460}, 0x140001d6600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f0460?}, 0x1400002a1cc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f0460}, 0x140001d6600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f0460?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f0460}, 0x140001d6500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8450?}, {0x104a7e830?, 0x140000f0460?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000dfb90, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:50 http: panic serving 127.0.0.1:55446: runtime error: invalid memory address or nil pointer dereference
        goroutine 19 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b3570?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8780}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8780?}, 0x14000010ef4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8780}, 0x140001d6800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8780?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e690}, 0x140001d6800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e690?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f0540}, 0x140001d6800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8750?, {0x104a7e830?, 0x140000f0540?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f0540}, 0x140001d6800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f0540}, 0x140001d6800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f0540?}, 0x1400002a1e4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f0540}, 0x140001d6800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f0540?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f0540}, 0x140001d6700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8660?}, {0x104a7e830?, 0x140000f0540?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000dfdd0, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:51 http: panic serving 127.0.0.1:55448: runtime error: invalid memory address or nil pointer dereference
        goroutine 21 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b35e0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8990}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8990?}, 0x14000010f44?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8990}, 0x140001d6a00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8990?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e6c0}, 0x140001d6a00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e6c0?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f0620}, 0x140001d6a00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8960?, {0x104a7e830?, 0x140000f0620?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f0620}, 0x140001d6a00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f0620}, 0x140001d6a00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f0620?}, 0x1400002a1fc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f0620}, 0x140001d6a00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f0620?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f0620}, 0x140001d6900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8870?}, {0x104a7e830?, 0x140000f0620?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140001fa090, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:52 http: panic serving 127.0.0.1:55450: runtime error: invalid memory address or nil pointer dereference
        goroutine 23 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b3650?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8ba0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8ba0?}, 0x14000010f94?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8ba0}, 0x140001d6c00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8ba0?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e6f0}, 0x140001d6c00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e6f0?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f0700}, 0x140001d6c00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8b70?, {0x104a7e830?, 0x140000f0700?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f0700}, 0x140001d6c00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f0700}, 0x140001d6c00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f0700?}, 0x1400002a214?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f0700}, 0x140001d6c00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f0700?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f0700}, 0x140001d6b00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8a80?}, {0x104a7e830?, 0x140000f0700?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140001fa2d0, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:53 http: panic serving 127.0.0.1:55452: runtime error: invalid memory address or nil pointer dereference
        goroutine 25 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b36c0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8db0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8db0?}, 0x14000010fe4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8db0}, 0x140001d6e00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8db0?}, 0x104db0130?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e720}, 0x140001d6e00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e720?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f07e0}, 0x140001d6e00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8d80?, {0x104a7e830?, 0x140000f07e0?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f07e0}, 0x140001d6e00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f07e0}, 0x140001d6e00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f07e0?}, 0x1400002a22c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f07e0}, 0x140001d6e00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f07e0?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f07e0}, 0x140001d6d00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8c90?}, {0x104a7e830?, 0x140000f07e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140001fa510, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:54 http: panic serving 127.0.0.1:55454: runtime error: invalid memory address or nil pointer dereference
        goroutine 27 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b3730?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d8fc0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d8fc0?}, 0x14000011034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d8fc0}, 0x140001d7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d8fc0?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e750}, 0x140001d7000)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e750?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f08c0}, 0x140001d7000)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d8f90?, {0x104a7e830?, 0x140000f08c0?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f08c0}, 0x140001d7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f08c0}, 0x140001d7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f08c0?}, 0x1400002a244?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f08c0}, 0x140001d7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f08c0?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f08c0}, 0x140001d6f00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d8ea0?}, {0x104a7e830?, 0x140000f08c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140001fa750, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:55 http: panic serving 127.0.0.1:55456: runtime error: invalid memory address or nil pointer dereference
        goroutine 29 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140000b37a0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140001d91d0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140001d91d0?}, 0x14000011084?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140001d91d0}, 0x140001d7200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140001d91d0?}, 0x10469cfbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x1400000e780}, 0x140001d7200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x1400000e780?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140000f09a0}, 0x140001d7200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001d91a0?, {0x104a7e830?, 0x140000f09a0?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140000f09a0}, 0x140001d7200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140000f09a0}, 0x140001d7200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140000f09a0?}, 0x1400002a25c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140000f09a0}, 0x140001d7200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140000f09a0?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140000f09a0}, 0x140001d7100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001d90b0?}, {0x104a7e830?, 0x140000f09a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140001fa990, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:56 http: panic serving 127.0.0.1:55458: runtime error: invalid memory address or nil pointer dereference
        goroutine 34 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x1049f1d00?, 0x104ca1500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x104a7f7d8?, {0x104a7f880?, 0x140002b8000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x104a7eaa0, 0x140002881e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7eaa0?, 0x140002881e0?}, 0x14000298034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x104a7eaa0, 0x140002881e0}, 0x140002a2100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x104a7eaa0?, 0x140002881e0?}, 0x104db0a90?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x104a7e6b0, 0x140002b4000}, 0x140002a2100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x104a7e6b0?, 0x140002b4000?}, 0x1400005a320?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x104a7e830?, 0x140002ae000}, 0x140002a2100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002881b0?, {0x104a7e830?, 0x140002ae000?}, 0x14000294938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x104a7e830, 0x140002ae000}, 0x140002a2100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x104a7e830, 0x140002ae000}, 0x140002a2100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x1049eece0?, {0x104a7e830?, 0x140002ae000?}, 0x140002a4004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x104a7e830, 0x140002ae000}, 0x140002a2100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x104a7f810?, {0x104a7e830?, 0x140002ae000?}, 0x104ca11b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x104a7e830, 0x140002ae000}, 0x140002a2000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000288090?}, {0x104a7e830?, 0x140002ae000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400028a000, {0x104a7f7d8, 0x140000ebe00})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
--- FAIL: TestIteration10A (10.11s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.00s)
    --- FAIL: TestIteration10A/TestPingHandler (10.00s)
=== RUN   TestIteration10B
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
=== NAME  TestIteration10B
    iteration10b_test.go:106: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        2023/10/06 15:43:57 http: panic serving 127.0.0.1:55461: runtime error: invalid memory address or nil pointer dereference
        goroutine 34 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000204210}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000204210?}, 0x1400021e034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000204210}, 0x1400022a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000204210?}, 0x101104a90?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x14000248000}, 0x1400022a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x14000248000?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x14000240000}, 0x1400022a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002041e0?, {0x100dd2830?, 0x14000240000?}, 0x140000ed938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x14000240000}, 0x1400022a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x14000240000}, 0x1400022a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x14000240000?}, 0x1400022c004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x14000240000}, 0x1400022a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x14000240000?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x14000240000}, 0x1400022a000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000204090?}, {0x100dd2830?, 0x14000240000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000208000, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:58 http: panic serving 127.0.0.1:55463: runtime error: invalid memory address or nil pointer dereference
        goroutine 36 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c0e0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000204420}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000204420?}, 0x1400021e104?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000204420}, 0x1400022a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000204420?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x14000248048}, 0x1400022a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x14000248048?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x140002400e0}, 0x1400022a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002043f0?, {0x100dd2830?, 0x140002400e0?}, 0x1400021a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x140002400e0}, 0x1400022a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x140002400e0}, 0x1400022a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x140002400e0?}, 0x1400022c01c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x140002400e0}, 0x1400022a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x140002400e0?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x140002400e0}, 0x1400022a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000204300?}, {0x100dd2830?, 0x140002400e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000208240, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:43:59 http: panic serving 127.0.0.1:55465: runtime error: invalid memory address or nil pointer dereference
        goroutine 5 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400029a000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000020210}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000020210?}, 0x140000100c4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000020210}, 0x14000286100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000020210?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x1400000e030}, 0x14000286100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x1400000e030?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x1400028a000}, 0x14000286100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000201e0?, {0x100dd2830?, 0x1400028a000?}, 0x1400006f938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x1400028a000}, 0x14000286100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x1400028a000}, 0x14000286100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x1400028a000?}, 0x1400002a0ac?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x1400028a000}, 0x14000286100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x1400028a000?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x1400028a000}, 0x14000286000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000200c0?}, {0x100dd2830?, 0x1400028a000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000282000, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:00 http: panic serving 127.0.0.1:55469: runtime error: invalid memory address or nil pointer dereference
        goroutine 7 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c150?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x140002045a0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x140002045a0?}, 0x1400021e130?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x140002045a0}, 0x1400022a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x140002045a0?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x14000248078}, 0x1400022a400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x14000248078?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x140002401c0}, 0x1400022a400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x14000204570?, {0x100dd2830?, 0x140002401c0?}, 0x1400006f938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x140002401c0}, 0x1400022a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x140002401c0}, 0x1400022a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x140002401c0?}, 0x1400022c034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x140002401c0}, 0x1400022a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x140002401c0?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x140002401c0}, 0x14000286200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000020300?}, {0x100dd2830?, 0x140002401c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000282240, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:01 http: panic serving 127.0.0.1:55471: runtime error: invalid memory address or nil pointer dereference
        goroutine 39 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c1c0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000204810}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000204810?}, 0x1400021e180?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000204810}, 0x1400022a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000204810?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x140002480a8}, 0x1400022a600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x140002480a8?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x140002402a0}, 0x1400022a600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002047e0?, {0x100dd2830?, 0x140002402a0?}, 0x1400006f938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x140002402a0}, 0x1400022a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x140002402a0}, 0x1400022a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x140002402a0?}, 0x1400022c04c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x140002402a0}, 0x1400022a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x140002402a0?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x140002402a0}, 0x1400022a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140002046f0?}, {0x100dd2830?, 0x140002402a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000208630, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:02 http: panic serving 127.0.0.1:55504: runtime error: invalid memory address or nil pointer dereference
        goroutine 41 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c230?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000204a20}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000204a20?}, 0x1400021e1d0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000204a20}, 0x1400022a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000204a20?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x140002480d8}, 0x1400022a800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x140002480d8?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x14000240380}, 0x1400022a800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002049f0?, {0x100dd2830?, 0x14000240380?}, 0x1400006f938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x14000240380}, 0x1400022a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x14000240380}, 0x1400022a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x14000240380?}, 0x1400022c064?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x14000240380}, 0x1400022a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x14000240380?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x14000240380}, 0x1400022a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000204900?}, {0x100dd2830?, 0x14000240380?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000208870, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:03 http: panic serving 127.0.0.1:55526: runtime error: invalid memory address or nil pointer dereference
        goroutine 43 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c2a0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000204c30}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000204c30?}, 0x1400021e220?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000204c30}, 0x1400022aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000204c30?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x14000248108}, 0x1400022aa00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x14000248108?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x14000240460}, 0x1400022aa00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x14000204c00?, {0x100dd2830?, 0x14000240460?}, 0x1400006f938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x14000240460}, 0x1400022aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x14000240460}, 0x1400022aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x14000240460?}, 0x1400022c07c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x14000240460}, 0x1400022aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x14000240460?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x14000240460}, 0x1400022a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000204b10?}, {0x100dd2830?, 0x14000240460?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000208ab0, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:04 http: panic serving 127.0.0.1:55528: runtime error: invalid memory address or nil pointer dereference
        goroutine 8 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400029a070?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x140000204e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x140000204e0?}, 0x14000010154?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x140000204e0}, 0x14000286400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x140000204e0?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x1400000e078}, 0x14000286400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x1400000e078?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x1400028a0e0}, 0x14000286400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000204b0?, {0x100dd2830?, 0x1400028a0e0?}, 0x14000070938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x1400028a0e0}, 0x14000286400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x1400028a0e0}, 0x14000286400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x1400028a0e0?}, 0x1400002a0dc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x1400028a0e0}, 0x14000286400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x1400028a0e0?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x1400028a0e0}, 0x14000286300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000203c0?}, {0x100dd2830?, 0x1400028a0e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002822d0, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:05 http: panic serving 127.0.0.1:55537: runtime error: invalid memory address or nil pointer dereference
        goroutine 10 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400029a0e0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x140000206f0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x140000206f0?}, 0x140000101a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x140000206f0}, 0x14000286600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x140000206f0?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x1400000e0a8}, 0x14000286600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x1400000e0a8?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x1400028a1c0}, 0x14000286600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000206c0?, {0x100dd2830?, 0x1400028a1c0?}, 0x14000070938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x1400028a1c0}, 0x14000286600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x1400028a1c0}, 0x14000286600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x1400028a1c0?}, 0x1400002a0f4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x1400028a1c0}, 0x14000286600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x1400028a1c0?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x1400028a1c0}, 0x14000286500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000205d0?}, {0x100dd2830?, 0x1400028a1c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000282510, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/06 15:44:06 http: panic serving 127.0.0.1:55550: runtime error: invalid memory address or nil pointer dereference
        goroutine 45 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100d45d00?, 0x100ff5500?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100dd37d8?, {0x100dd3880?, 0x1400024c310?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:78 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000dc4a0, {0x100dd2aa0, 0x14000204e40}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:186 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2aa0?, 0x14000204e40?}, 0x1400021e270?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8660, {0x100dd2aa0, 0x14000204e40}, 0x1400022ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100dd2aa0?, 0x14000204e40?}, 0x1009f0fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100dd26b0, 0x14000248138}, 0x1400022ac00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100dd26b0?, 0x14000248138?}, 0x140000a8318?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100dd2830?, 0x14000240540}, 0x1400022ac00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x14000204e10?, {0x100dd2830?, 0x14000240540?}, 0x1400021a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8660, {0x100dd2830, 0x14000240540}, 0x1400022ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100dd2830, 0x14000240540}, 0x1400022ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100d42ce0?, {0x100dd2830?, 0x14000240540?}, 0x1400022c094?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b8600, {0x100dd2830, 0x14000240540}, 0x1400022ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100dd3810?, {0x100dd2830?, 0x14000240540?}, 0x100ff51b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b8600, {0x100dd2830, 0x14000240540}, 0x1400022ab00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000204d20?}, {0x100dd2830?, 0x14000240540?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000208cf0, {0x100dd37d8, 0x1400011dd40})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
--- PASS: TestIteration10B (10.12s)
    --- PASS: TestIteration10B/TestPingHandlerWithWrongSettings (10.01s)
=== RUN   TestIteration11
    iteration11_test.go:77: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration11/TestInspectDatabase
=== RUN   TestIteration11/TestInspectDatabase/populate_counter
    iteration11_test.go:164: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:164
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration11/TestInspectDatabase/populate_counter
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration11_test.go:172: Оригинальный запрос:
        
        POST /update/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration11/TestInspectDatabase/delay
=== RUN   TestIteration11/TestInspectDatabase/inspect
    iteration11_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Expected value not to be nil.
        	Test:       	TestIteration11/TestInspectDatabase/inspect
        	Messages:   	Невозможно проинспектировать базу данных, нет подключения
--- FAIL: TestIteration11 (5.02s)
    --- FAIL: TestIteration11/TestInspectDatabase (5.01s)
        --- FAIL: TestIteration11/TestInspectDatabase/populate_counter (0.01s)
        --- PASS: TestIteration11/TestInspectDatabase/delay (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/inspect (0.00s)
=== RUN   TestIteration12
    iteration12_test.go:78: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration12/TestBatchAPI
=== RUN   TestIteration12/TestBatchAPI/get_random_counter
    iteration12_test.go:165: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:165
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/get_random_counter
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:179: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration12/TestBatchAPI/batch_update_random_metrics
    iteration12_test.go:217: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:217
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/updates/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/batch_update_random_metrics
        	Messages:   	Ошибка при попытке сделать запрос с обновлением списка метрик
    iteration12_test.go:224: Оригинальный запрос:
        
        POST /updates/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:226: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_counter_value
    iteration12_test.go:240: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:240
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_counter_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:255: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:257: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_gauge_value
    iteration12_test.go:271: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:271
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_gauge_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения gauge
    iteration12_test.go:286: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:288: Оригинальный ответ:
        
--- FAIL: TestIteration12 (0.01s)
    --- FAIL: TestIteration12/TestBatchAPI (0.01s)
        --- FAIL: TestIteration12/TestBatchAPI/get_random_counter (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/batch_update_random_metrics (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_counter_value (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_gauge_value (0.00s)
=== RUN   TestIteration13
=== RUN   TestIteration13/TestCollectAgentMetrics
    iteration13_test.go:424: get gauge: "BuckHashSys", value: 4000.000000
    iteration13_test.go:398: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:398
        	Error:      	Should be true
        	Test:       	TestIteration13/TestCollectAgentMetrics
        	Messages:   	Получен не однозначный результат (возвращаемое значение value=nil не соответствет типу gauge) '"POST" http://localhost:8080/value/'
    iteration13_test.go:413: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration13_test.go:415: Оригинальный ответ:
        
=== RUN   TestIteration13/TestCounterGzipHandlers
=== RUN   TestIteration13/TestCounterGzipHandlers/update
    iteration13_test.go:249: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration13_test.go:249
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 2502567804
        	            	actual  : 1497194234
        	Test:       	TestIteration13/TestCounterGzipHandlers/update
        	Messages:   	Несоответствие отправленного значения counter (r:0+w:1005373570+w:1497194234) полученному от сервера (1497194234), '"POST" http://localhost:8080/value/'
    iteration13_test.go:254: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration13_test.go:256: Оригинальный ответ:
        
=== RUN   TestIteration13/TestGaugeGzipHandlers
=== RUN   TestIteration13/TestGaugeGzipHandlers/update
=== NAME  TestIteration13
    iteration13_test.go:164: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": read tcp [::1]:55608->[::1]:8080: read: connection reset by peer
        interrupt
    iteration13_test.go:120: Процесс завершился с не нулевым статусом 2
    iteration13_test.go:132: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'e' looking for beginning of value
        can't connect: repository: database: CheckConn: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        panic: listen tcp 127.0.0.1:8080: bind: address already in use
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:63 +0x76c
--- FAIL: TestIteration13 (10.85s)
    --- FAIL: TestIteration13/TestCollectAgentMetrics (0.66s)
    --- FAIL: TestIteration13/TestCounterGzipHandlers (0.00s)
        --- FAIL: TestIteration13/TestCounterGzipHandlers/update (0.00s)
    --- PASS: TestIteration13/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration13/TestGaugeGzipHandlers/update (0.00s)
=== RUN   TestIteration14
    iteration14_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-key non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
