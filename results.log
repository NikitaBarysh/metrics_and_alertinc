=== RUN   TestIteration1
    iteration1_test.go:50: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
    iteration1_test.go:150: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:150
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/counter/testCounter/100": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestCounterHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration1_test.go:153: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:153
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration1/TestCounterHandlers/update
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/counter/testCounter/100'
    iteration1_test.go:158: Оригинальный запрос:
        
        POST /update/counter/testCounter/100 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestCounterHandlers/without_id
    iteration1_test.go:166: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:166
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/counter/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestCounterHandlers/without_id
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration1_test.go:169: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:169
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration1/TestCounterHandlers/without_id
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/counter/'
    iteration1_test.go:174: Оригинальный запрос:
        
        POST /update/counter/ HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
    iteration1_test.go:182: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:182
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/counter/testCounter/none": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestCounterHandlers/invalid_value
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration1_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 400
        	            	actual  : 0
        	Test:       	TestIteration1/TestCounterHandlers/invalid_value
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/counter/testCounter/none'
    iteration1_test.go:190: Оригинальный запрос:
        
        POST /update/counter/testCounter/none HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
    iteration1_test.go:98: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:98
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testGauge/100": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestGaugeHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration1_test.go:101: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:101
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration1/TestGaugeHandlers/update
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testGauge/100'
    iteration1_test.go:106: Оригинальный запрос:
        
        POST /update/gauge/testGauge/100 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestGaugeHandlers/without_id
    iteration1_test.go:114: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:114
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestGaugeHandlers/without_id
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration1_test.go:117: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:117
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration1/TestGaugeHandlers/without_id
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/'
    iteration1_test.go:122: Оригинальный запрос:
        
        POST /update/gauge/ HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
    iteration1_test.go:130: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:130
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testGauge/none": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestGaugeHandlers/invalid_value
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration1_test.go:133: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:133
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 400
        	            	actual  : 0
        	Test:       	TestIteration1/TestGaugeHandlers/invalid_value
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testGauge/none'
    iteration1_test.go:138: Оригинальный запрос:
        
        POST /update/gauge/testGauge/none HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
    iteration1_test.go:202: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:202
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/unknown/testCounter/100": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestUnknownHandlers/update_invalid_type
        	Messages:   	Ошибка при попытке сделать запрос с не корректным типом метрики
    iteration1_test.go:205: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:205
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	[]int{400, 501} does not contain 0
        	Test:       	TestIteration1/TestUnknownHandlers/update_invalid_type
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/unknown/testCounter/100'
    iteration1_test.go:210: Оригинальный запрос:
        
        POST /update/unknown/testCounter/100 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
    iteration1_test.go:218: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:218
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/updater/counter/testCounter/100": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration1/TestUnknownHandlers/update_invalid_method
        	Messages:   	Ошибка при попытке сделать запрос с не корректным типом метрики
    iteration1_test.go:221: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration1_test.go:221
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	[]int{400, 404} does not contain 0
        	Test:       	TestIteration1/TestUnknownHandlers/update_invalid_method
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/updater/counter/testCounter/100'
    iteration1_test.go:226: Оригинальный запрос:
        
        POST /updater/counter/testCounter/100 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration1
    iteration1_test.go:70: Процесс завершился с не нулевым статусом 2
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- FAIL: TestIteration1 (20.02s)
    --- FAIL: TestIteration1/TestCounterHandlers (0.01s)
        --- FAIL: TestIteration1/TestCounterHandlers/update (0.01s)
        --- FAIL: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- FAIL: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- FAIL: TestIteration1/TestGaugeHandlers (0.00s)
        --- FAIL: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- FAIL: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- FAIL: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- FAIL: TestIteration1/TestUnknownHandlers (0.00s)
        --- FAIL: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- FAIL: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/169448.00": EOF
        interrupt
--- PASS: TestIteration2A (10.03s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
    iteration2b_test.go:87: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration2b_test.go:87
        	Error:      	Received unexpected error:
        	            	exit status 1
        	Test:       	TestIteration2B/TestServerCoverage
        	Messages:   	Невозможно получить результат выполнения команды: /usr/local/go/bin/go test -cover ./.... Вывод:
        	            	
        	            	 ?   	github.com/NikitaBarysh/metrics_and_alertinc/cmd/agent	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/cmd/server	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/entity	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/config/agent	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/config/server	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/models	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/repository	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/repository/postgres	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/router	[no test files]
        	            	/var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/go-build3005896426/b216/handlers.test flag redefined: a
        	            	--- FAIL: TestHandler_Safe (0.00s)
        	            	    --- FAIL: TestHandler_Safe/Test#2,_check_if_all_correct (0.00s)
        	            	panic: /var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/go-build3005896426/b216/handlers.test flag redefined: a [recovered]
        	            		panic: /var/folders/84/lzqlk4f168v1_zvxb2jmrx280000gn/T/go-build3005896426/b216/handlers.test flag redefined: a
        	            	
        	            	goroutine 37 [running]:
        	            	testing.tRunner.func1.2({0x101043ea0, 0x1400010bc40})
        	            		/usr/local/go/src/testing/testing.go:1526 +0x1c8
        	            	testing.tRunner.func1()
        	            		/usr/local/go/src/testing/testing.go:1529 +0x384
        	            	panic({0x101043ea0, 0x1400010bc40})
        	            		/usr/local/go/src/runtime/panic.go:884 +0x204
        	            	flag.(*FlagSet).Var(0x1400012a120, {0x1010e5d70, 0x1400012a780}, {0x1010089a0, 0x1}, {0x100f84906, 0x1e})
        	            		/usr/local/go/src/flag/flag.go:982 +0x2a4
        	            	flag.StringVar(...)
        	            		/usr/local/go/src/flag/flag.go:853
        	            	github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/config/server.ParseServerConfig()
        	            		/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/config/server/config.go:53 +0x80
        	            	github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.TestHandler_Safe.func1(0x0?)
        	            		/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers_test.go:61 +0x350
        	            	testing.tRunner(0x1400020e000, 0x1400010bba0)
        	            		/usr/local/go/src/testing/testing.go:1576 +0x10c
        	            	created by testing.(*T).Run
        	            		/usr/local/go/src/testing/testing.go:1629 +0x368
        	            	FAIL	github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers	0.011s
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/storage	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/useCase/flusher	[no test files]
        	            	?   	github.com/NikitaBarysh/metrics_and_alertinc/internal/useCase/sender	[no test files]
        	            	ok  	github.com/NikitaBarysh/metrics_and_alertinc/internal/service	(cached)	coverage: 2.4% of statements
        	            	FAIL
--- FAIL: TestIteration2B (1.02s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- FAIL: TestIteration2B/TestServerCoverage (1.02s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
    iteration3b_test.go:53: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
    iteration3b_test.go:157: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:157
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/counter/testSetGet234": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestCounter/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения counter
    iteration3b_test.go:162: Оригинальный запрос:
        
        GET /value/counter/testSetGet234 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestCounter/get_unknown
    iteration3b_test.go:203: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:203
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/counter/testUnknown78": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestCounter/get_unknown
        	Messages:   	Ошибка при попытке сделать запрос для получения значения counter
    iteration3b_test.go:204: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:204
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration3B/TestCounter/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/counter/testUnknown78'
    iteration3b_test.go:209: Оригинальный запрос:
        
        GET /value/counter/testUnknown78 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
    iteration3b_test.go:103: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:103
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet122/897122.368": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration3b_test.go:106: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:106
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet122/897122.368'
    iteration3b_test.go:111: Оригинальный запрос:
        
        POST /update/gauge/testSetGet122/897122.368 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:115: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:115
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet122": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration3b_test.go:117: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:117
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet122'
    iteration3b_test.go:119: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:119
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "897122.368"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-897122.368
        	            	+
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (897122.368) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet122'
    iteration3b_test.go:124: Оригинальный запрос:
        
        GET /value/gauge/testSetGet122 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:103: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:103
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet122/274614.168": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration3b_test.go:106: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:106
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet122/274614.168'
    iteration3b_test.go:111: Оригинальный запрос:
        
        POST /update/gauge/testSetGet122/274614.168 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:115: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:115
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet122": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration3b_test.go:117: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:117
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet122'
    iteration3b_test.go:119: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:119
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "274614.168"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-274614.168
        	            	+
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (274614.168) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet122'
    iteration3b_test.go:124: Оригинальный запрос:
        
        GET /value/gauge/testSetGet122 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:103: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:103
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet122/935442.627": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration3b_test.go:106: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:106
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet122/935442.627'
    iteration3b_test.go:111: Оригинальный запрос:
        
        POST /update/gauge/testSetGet122/935442.627 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration3b_test.go:115: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:115
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet122": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration3b_test.go:117: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:117
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet122'
    iteration3b_test.go:119: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:119
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "935442.627"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-935442.627
        	            	+
        	Test:       	TestIteration3B/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (935442.627) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet122'
    iteration3b_test.go:124: Оригинальный запрос:
        
        GET /value/gauge/testSetGet122 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration3B/TestGauge/get_unknown
    iteration3b_test.go:133: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:133
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testUnknown153": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration3B/TestGauge/get_unknown
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration3b_test.go:135: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration3b_test.go:135
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration3B/TestGauge/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testUnknown153'
    iteration3b_test.go:140: Оригинальный запрос:
        
        GET /value/gauge/testUnknown153 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration3B
    iteration3b_test.go:73: Процесс завершился с не нулевым статусом 2
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- FAIL: TestIteration3B (20.02s)
    --- FAIL: TestIteration3B/TestCounter (0.00s)
        --- FAIL: TestIteration3B/TestCounter/update_sequence (0.00s)
        --- FAIL: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- FAIL: TestIteration3B/TestGauge (0.01s)
        --- FAIL: TestIteration3B/TestGauge/update_sequence (0.01s)
        --- FAIL: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
    iteration4_test.go:79: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
    iteration4_test.go:238: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:238
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/counter/testSetGet121": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestCounter/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения counter
    iteration4_test.go:243: Оригинальный запрос:
        
        GET /value/counter/testSetGet121 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestCounter/get_unknown
    iteration4_test.go:284: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:284
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/counter/testUnknown104": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestCounter/get_unknown
        	Messages:   	Ошибка при попытке сделать запрос для получения значения counter
    iteration4_test.go:285: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:285
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration4/TestCounter/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/counter/testUnknown104'
    iteration4_test.go:290: Оригинальный запрос:
        
        GET /value/counter/testUnknown104 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
    iteration4_test.go:184: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:184
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet14/426486.719": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration4_test.go:187: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:187
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet14/426486.719'
    iteration4_test.go:192: Оригинальный запрос:
        
        POST /update/gauge/testSetGet14/426486.719 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:196: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:196
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet14": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration4_test.go:198: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:198
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet14'
    iteration4_test.go:200: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:200
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "426486.719"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-426486.719
        	            	+
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (426486.719) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet14'
    iteration4_test.go:205: Оригинальный запрос:
        
        GET /value/gauge/testSetGet14 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:184: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:184
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet14/527011.149": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration4_test.go:187: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:187
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet14/527011.149'
    iteration4_test.go:192: Оригинальный запрос:
        
        POST /update/gauge/testSetGet14/527011.149 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:196: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:196
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet14": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration4_test.go:198: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:198
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet14'
    iteration4_test.go:200: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:200
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "527011.149"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-527011.149
        	            	+
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (527011.149) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet14'
    iteration4_test.go:205: Оригинальный запрос:
        
        GET /value/gauge/testSetGet14 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:184: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:184
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet14/422580.064": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration4_test.go:187: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:187
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet14/422580.064'
    iteration4_test.go:192: Оригинальный запрос:
        
        POST /update/gauge/testSetGet14/422580.064 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration4_test.go:196: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:196
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet14": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration4_test.go:198: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:198
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet14'
    iteration4_test.go:200: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:200
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "422580.064"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-422580.064
        	            	+
        	Test:       	TestIteration4/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (422580.064) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet14'
    iteration4_test.go:205: Оригинальный запрос:
        
        GET /value/gauge/testSetGet14 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration4/TestGauge/get_unknown
    iteration4_test.go:214: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:214
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testUnknown86": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration4/TestGauge/get_unknown
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration4_test.go:216: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration4_test.go:216
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration4/TestGauge/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testUnknown86'
    iteration4_test.go:221: Оригинальный запрос:
        
        GET /value/gauge/testUnknown86 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/589.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/738843.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/169128.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/696320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2799992.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3137536.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/169128.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/580.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3121152.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/33600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/2": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/9.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7801872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.35": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/169128.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.48": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/419872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/4232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/920803.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/419872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1220608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3768320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2880176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2547712.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/419872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/4072.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2482176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/43840.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/4": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8064016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2911016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2400256.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/644232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/7449.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2293760.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/43840.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/6": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/307.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.37": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/644232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/644232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1368064.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3768320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/7756.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1152107.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2929520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2195456.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/869520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/10824.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2162688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/54080.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/65280.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/8": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/452.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.12": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/869520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/869520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1540096.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3735552.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/11276.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1117283.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/1096144.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/14207.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/1875968.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/54080.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/65280.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/597.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.61": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/1096144.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/1096144.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1794048.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3735552.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/14804.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1104947.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2941856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/1941504.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/1319488.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1966080.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3735552.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/18318.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1086443.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2960360.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/1769472.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/17576.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/1605632.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/54080.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/65280.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/1319488.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/12": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/742.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.93": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/1319488.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/1548288.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2966528.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/1359872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/64320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/65280.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/1540144.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/20932.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/14": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/887.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.65": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/458752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/1540144.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3735552.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/21819.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1080275.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/1540144.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/2187264.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/491520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/16": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/1032.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/491520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.50": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/1764160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/2449408.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3702784.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/25338.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1063955.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/1764160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2966528.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/1253376.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/24306.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/1081344.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/74560.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/81600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/1764160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1051619.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/1986712.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/2637824.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3702784.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/28847.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2978864.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/1064960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/1986712.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/27667.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/901120.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/74560.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/81600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/491520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/18": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/1180.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8326160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/491520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.75": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/1986712.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration4_test.go:123: Процесс завершился с не нулевым статусом 2
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- FAIL: TestIteration4 (20.02s)
    --- FAIL: TestIteration4/TestCounter (0.00s)
        --- FAIL: TestIteration4/TestCounter/update_sequence (0.00s)
        --- FAIL: TestIteration4/TestCounter/get_unknown (0.00s)
    --- FAIL: TestIteration4/TestGauge (0.01s)
        --- FAIL: TestIteration4/TestGauge/update_sequence (0.01s)
        --- FAIL: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
    iteration5_test.go:65: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
    iteration5_test.go:223: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:223
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/counter/testSetGet54": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestCounter/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения counter
    iteration5_test.go:228: Оригинальный запрос:
        
        GET /value/counter/testSetGet54 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestCounter/get_unknown
    iteration5_test.go:269: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:269
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/counter/testUnknown11": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestCounter/get_unknown
        	Messages:   	Ошибка при попытке сделать запрос для получения значения counter
    iteration5_test.go:270: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:270
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration5/TestCounter/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/counter/testUnknown11'
    iteration5_test.go:275: Оригинальный запрос:
        
        GET /value/counter/testUnknown11 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
    iteration5_test.go:169: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:169
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet143/98801.403": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration5_test.go:172: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:172
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet143/98801.403'
    iteration5_test.go:177: Оригинальный запрос:
        
        POST /update/gauge/testSetGet143/98801.403 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet143": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration5_test.go:183: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:183
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet143'
    iteration5_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "98801.403"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-98801.403
        	            	+
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (98801.403) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet143'
    iteration5_test.go:190: Оригинальный запрос:
        
        GET /value/gauge/testSetGet143 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:169: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:169
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet143/565728.796": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration5_test.go:172: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:172
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet143/565728.796'
    iteration5_test.go:177: Оригинальный запрос:
        
        POST /update/gauge/testSetGet143/565728.796 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet143": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration5_test.go:183: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:183
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet143'
    iteration5_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "565728.796"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-565728.796
        	            	+
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (565728.796) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet143'
    iteration5_test.go:190: Оригинальный запрос:
        
        GET /value/gauge/testSetGet143 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:169: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:169
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/gauge/testSetGet143/431984.966": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration5_test.go:172: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:172
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'POST http://localhost:8080/update/gauge/testSetGet143/431984.966'
    iteration5_test.go:177: Оригинальный запрос:
        
        POST /update/gauge/testSetGet143/431984.966 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration5_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testSetGet143": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration5_test.go:183: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:183
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testSetGet143'
    iteration5_test.go:185: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:185
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: "431984.966"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-431984.966
        	            	+
        	Test:       	TestIteration5/TestGauge/update_sequence
        	Messages:   	Несоответствие отправленного значения gauge (431984.966) полученному от сервера (), 'GET http://localhost:8080/value/gauge/testSetGet143'
    iteration5_test.go:190: Оригинальный запрос:
        
        GET /value/gauge/testSetGet143 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration5/TestGauge/get_unknown
    iteration5_test.go:199: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:199
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/value/gauge/testUnknown237": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration5/TestGauge/get_unknown
        	Messages:   	Ошибка при попытке сделать запрос для получения значения gauge
    iteration5_test.go:201: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration5_test.go:201
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 404
        	            	actual  : 0
        	Test:       	TestIteration5/TestGauge/get_unknown
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере 'GET http://localhost:8080/value/gauge/testUnknown237'
    iteration5_test.go:206: Оригинальный запрос:
        
        GET /value/gauge/testUnknown237 HTTP/1.1
        Host: localhost:8080
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/679936.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3186688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/23520.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/9.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/761331.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7801872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/168728.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.68": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2793824.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/582.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/32640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3866624.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/168728.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3186688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/591.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/168728.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2886344.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/4074.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3768320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/417024.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2547712.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/4234.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/417024.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1220608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2482176.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/44000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8064016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/914635.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/417024.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.53": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2911016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/7448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/65280.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3768320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/640608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2408448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/7755.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/640608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1359872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2277376.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/54240.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/15": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/307.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/873643.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8064016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/640608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/425984.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.72": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3768320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/864800.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2220032.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/11276.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/864800.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration5_test.go:108: Процесс завершился с не нулевым статусом 2
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- FAIL: TestIteration5 (20.02s)
    --- FAIL: TestIteration5/TestCounter (0.00s)
        --- FAIL: TestIteration5/TestCounter/update_sequence (0.00s)
        --- FAIL: TestIteration5/TestCounter/get_unknown (0.00s)
    --- FAIL: TestIteration5/TestGauge (0.01s)
        --- FAIL: TestIteration5/TestGauge/update_sequence (0.01s)
        --- FAIL: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
    iteration7_test.go:76: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:395: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:395
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration7/TestCollectAgentMetrics
        	Messages:   	Ошибка при попытке сделать запрос с получением значения PollCount
    iteration7_test.go:421: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:423: Оригинальный ответ:
        
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
    iteration7_test.go:199: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:199
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration7/TestCounterHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration7_test.go:214: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration7/TestEncoderUsage
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
    iteration7_test.go:287: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration7_test.go:287
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration7/TestGaugeHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration7_test.go:314: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration7_test.go:316: Оригинальный ответ:
        
=== NAME  TestIteration7
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/33760.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/167768.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/10.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3186688.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.63": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/167768.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8064016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/586.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/647168.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/576.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2799992.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/167768.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3866624.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1000987.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3219456.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/414024.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2621440.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/33760.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/414024.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.78": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8064016.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/1114112.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/4051.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/4211.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2898680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/414024.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3801088.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/902299.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2686976.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration7_test.go:119: Процесс завершился с не нулевым статусом 2
    iteration7_test.go:131: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- FAIL: TestIteration7 (20.12s)
    --- FAIL: TestIteration7/TestCollectAgentMetrics (0.10s)
    --- FAIL: TestIteration7/TestCounterHandlers (0.00s)
        --- FAIL: TestIteration7/TestCounterHandlers/update (0.00s)
    --- PASS: TestIteration7/TestEncoderUsage (0.00s)
    --- FAIL: TestIteration7/TestGaugeHandlers (0.00s)
        --- FAIL: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
    iteration8_test.go:66: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration8/TestCounterGzipHandlers
=== RUN   TestIteration8/TestCounterGzipHandlers/update
    iteration8_test.go:176: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:176
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration8/TestCounterGzipHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration8_test.go:191: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration8/TestGaugeGzipHandlers
=== RUN   TestIteration8/TestGaugeGzipHandlers/update
    iteration8_test.go:271: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:271
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration8/TestGaugeGzipHandlers/update
        	Messages:   	Ошибка при попытке сделать запрос с обновлением gauge
    iteration8_test.go:301: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration8_test.go:303: Оригинальный ответ:
        
=== RUN   TestIteration8/TestGetGzipHandlers
=== RUN   TestIteration8/TestGetGzipHandlers/get_info_page
    iteration8_test.go:320: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration8_test.go:320
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Get "http://localhost:8080/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration8/TestGetGzipHandlers/get_info_page
        	Messages:   	Ошибка при попытке сделать запрос с получением значения информационной страницы
    iteration8_test.go:332: Оригинальный запрос:
        
        GET / HTTP/1.1
        Host: localhost:8080
        Accept: html/text
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration8_test.go:334: Оригинальный ответ:
        
=== NAME  TestIteration8
    iteration8_test.go:152: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/168384.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3170304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7801872.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/696320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/168384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/586.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3170304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/577.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3866624.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/33760.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.80": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2799992.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/168384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/9.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/738843.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration8_test.go:109: Процесс завершился с не нулевым статусом 2
    iteration8_test.go:121: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- FAIL: TestIteration8 (20.01s)
    --- FAIL: TestIteration8/TestCounterGzipHandlers (0.00s)
        --- FAIL: TestIteration8/TestCounterGzipHandlers/update (0.00s)
    --- FAIL: TestIteration8/TestGaugeGzipHandlers (0.00s)
        --- FAIL: TestIteration8/TestGaugeGzipHandlers/update (0.00s)
    --- FAIL: TestIteration8/TestGetGzipHandlers (0.00s)
        --- FAIL: TestIteration8/TestGetGzipHandlers/get_info_page (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:37: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:37
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-file-storage-path non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
=== NAME  TestIteration10A
    iteration10a_test.go:111: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
--- PASS: TestIteration10A (1.12s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.00s)
    --- PASS: TestIteration10A/TestPingHandler (1.01s)
=== RUN   TestIteration10B
    iteration10b_test.go:70: Не удалось дождаться пока порт 8080 станет доступен для запроса: context deadline exceeded
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
=== NAME  TestIteration10B
    iteration10b_test.go:94: Процесс завершился с не нулевым статусом 2
    iteration10b_test.go:106: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        panic: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        
        goroutine 1 [running]:
        main.main()
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/server/main.go:53 +0x7b0
--- PASS: TestIteration10B (30.01s)
    --- PASS: TestIteration10B/TestPingHandlerWithWrongSettings (10.00s)
=== RUN   TestIteration11
=== RUN   TestIteration11/TestInspectDatabase
=== RUN   TestIteration11/TestInspectDatabase/populate_counter
=== RUN   TestIteration11/TestInspectDatabase/delay
=== RUN   TestIteration11/TestInspectDatabase/inspect
    iteration11_test.go:187: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:187
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Should NOT be empty, but was []
        	Test:       	TestIteration11/TestInspectDatabase/inspect
        	Messages:   	Не найдено ни одной пользовательской таблицы в БД
=== NAME  TestIteration11
    iteration11_test.go:137: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
--- FAIL: TestIteration11 (5.16s)
    --- FAIL: TestIteration11/TestInspectDatabase (5.01s)
        --- PASS: TestIteration11/TestInspectDatabase/populate_counter (0.00s)
        --- PASS: TestIteration11/TestInspectDatabase/delay (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/inspect (0.01s)
=== RUN   TestIteration12
=== RUN   TestIteration12/TestBatchAPI
=== RUN   TestIteration12/TestBatchAPI/get_random_counter
=== RUN   TestIteration12/TestBatchAPI/batch_update_random_metrics
    iteration12_test.go:219: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:219
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 404
        	Test:       	TestIteration12/TestBatchAPI/batch_update_random_metrics
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере "POST": "http://localhost:8080/updates/" 
    iteration12_test.go:224: Оригинальный запрос:
        
        POST /updates/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:226: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_counter_value
    iteration12_test.go:242: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:242
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 404
        	Test:       	TestIteration12/TestBatchAPI/check_counter_value
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере "POST": "http://localhost:8080/value/" 
    iteration12_test.go:255: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:257: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_gauge_value
    iteration12_test.go:273: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:273
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 404
        	Test:       	TestIteration12/TestBatchAPI/check_gauge_value
        	Messages:   	Несоответствие статус кода ответа ожидаемому в хендлере "POST": "http://localhost:8080/value/" 
    iteration12_test.go:286: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:288: Оригинальный ответ:
        
=== NAME  TestIteration12
    iteration12_test.go:138: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'C' looking for beginning of value
--- FAIL: TestIteration12 (0.14s)
    --- FAIL: TestIteration12/TestBatchAPI (0.01s)
        --- PASS: TestIteration12/TestBatchAPI/get_random_counter (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/batch_update_random_metrics (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_counter_value (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_gauge_value (0.00s)
=== RUN   TestIteration13
=== RUN   TestIteration13/TestCollectAgentMetrics
    iteration13_test.go:424: get gauge: "HeapReleased", value: 2572288.000000
    iteration13_test.go:424: get gauge: "HeapSys", value: 3801088.000000
    iteration13_test.go:424: get gauge: "LastGC", value: 0.000000
    iteration13_test.go:424: get gauge: "Lookups", value: 0.000000
    iteration13_test.go:424: get gauge: "MCacheInuse", value: 9600.000000
    iteration13_test.go:424: get gauge: "MCacheSys", value: 15600.000000
    iteration13_test.go:424: get gauge: "MSpanInuse", value: 33760.000000
    iteration13_test.go:424: get gauge: "MSpanSys", value: 48960.000000
    iteration13_test.go:424: get gauge: "NextGC", value: 4194304.000000
    iteration13_test.go:424: get gauge: "NumForcedGC", value: 0.000000
    iteration13_test.go:424: get gauge: "NumGC", value: 0.000000
    iteration13_test.go:424: get gauge: "OtherSys", value: 908467.000000
    iteration13_test.go:424: get gauge: "PauseTotalNs", value: 0.000000
    iteration13_test.go:424: get gauge: "StackInuse", value: 393216.000000
    iteration13_test.go:424: get gauge: "StackSys", value: 393216.000000
    iteration13_test.go:424: get gauge: "Sys", value: 8064016.000000
    iteration13_test.go:424: get gauge: "BuckHashSys", value: 4173.000000
    iteration13_test.go:424: get gauge: "GCCPUFraction", value: 0.000000
    iteration13_test.go:424: get gauge: "GCSys", value: 2892512.000000
    iteration13_test.go:424: get gauge: "HeapInuse", value: 1228800.000000
    iteration13_test.go:424: get gauge: "HeapObjects", value: 5496.000000
    iteration13_test.go:424: get gauge: "Mallocs", value: 5715.000000
    iteration13_test.go:424: get gauge: "TotalAlloc", value: 545248.000000
    iteration13_test.go:431: get counter: "PollCount", value: 50
    iteration13_test.go:424: get gauge: "RandomValue", value: 0.630000
    iteration13_test.go:424: get gauge: "Alloc", value: 545248.000000
    iteration13_test.go:424: get gauge: "Frees", value: 219.000000
    iteration13_test.go:424: get gauge: "HeapAlloc", value: 545248.000000
    iteration13_test.go:424: get gauge: "HeapIdle", value: 2539520.000000
=== RUN   TestIteration13/TestCollectAgentMetrics/counter/PollCount
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/RandomValue
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Alloc
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Frees
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Mallocs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc
=== RUN   TestIteration13/TestCounterGzipHandlers
=== RUN   TestIteration13/TestCounterGzipHandlers/update
=== RUN   TestIteration13/TestGaugeGzipHandlers
=== RUN   TestIteration13/TestGaugeGzipHandlers/update
=== NAME  TestIteration13
    iteration13_test.go:164: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/168864.00": read tcp [::1]:55302->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3866624.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/994819.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/168864.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4173.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/327680.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/10.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3235840.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/630784.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3170304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/579.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48960.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2806160.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/168864.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/589.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.44": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/33760.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8064016.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration13_test.go:132: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: ReadFile: Unmarshal: invalid character 'C' looking for beginning of value
--- PASS: TestIteration13 (31.03s)
    --- PASS: TestIteration13/TestCollectAgentMetrics (20.89s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- PASS: TestIteration13/TestCounterGzipHandlers (0.00s)
        --- PASS: TestIteration13/TestCounterGzipHandlers/update (0.00s)
    --- PASS: TestIteration13/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration13/TestGaugeGzipHandlers/update (0.00s)
=== RUN   TestIteration14
    iteration14_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-key non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
