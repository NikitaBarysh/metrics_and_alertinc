=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration1 (0.12s)
    --- PASS: TestIteration1/TestCounterHandlers (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        interrupt
--- PASS: TestIteration2A (10.02s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (1.11s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (1.11s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration3B (0.12s)
    --- PASS: TestIteration3B/TestCounter (0.01s)
        --- PASS: TestIteration3B/TestCounter/update_sequence (0.01s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
=== RUN   TestIteration4/TestCounter/get_unknown
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
=== RUN   TestIteration4/TestGauge/get_unknown
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150464.00": read tcp [::1]:59108->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3137536.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.07": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150464.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1007400.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/2": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/696320.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/354.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/365.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration4 (2.12s)
    --- PASS: TestIteration4/TestCounter (0.00s)
        --- PASS: TestIteration4/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration4/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration4/TestGauge (0.00s)
        --- PASS: TestIteration4/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
=== RUN   TestIteration5/TestCounter/get_unknown
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
=== RUN   TestIteration5/TestGauge/get_unknown
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3268608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/565248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/369.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/155208.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3268608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.06": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/358.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration5 (5.12s)
    --- PASS: TestIteration5/TestCounter (0.00s)
        --- PASS: TestIteration5/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration5/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration5/TestGauge (0.00s)
        --- PASS: TestIteration5/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:432: get gauge: "HeapReleased", value: 2564096.000000
    iteration7_test.go:432: get gauge: "HeapSys", value: 3768320.000000
    iteration7_test.go:432: get gauge: "LastGC", value: 0.000000
    iteration7_test.go:432: get gauge: "Lookups", value: 0.000000
    iteration7_test.go:432: get gauge: "MCacheInuse", value: 9600.000000
    iteration7_test.go:432: get gauge: "MCacheSys", value: 15600.000000
    iteration7_test.go:432: get gauge: "MSpanInuse", value: 35448.000000
    iteration7_test.go:432: get gauge: "MSpanSys", value: 48888.000000
    iteration7_test.go:432: get gauge: "NextGC", value: 4194304.000000
    iteration7_test.go:432: get gauge: "NumForcedGC", value: 0.000000
    iteration7_test.go:432: get gauge: "NumGC", value: 0.000000
    iteration7_test.go:432: get gauge: "OtherSys", value: 921048.000000
    iteration7_test.go:432: get gauge: "PauseTotalNs", value: 0.000000
    iteration7_test.go:432: get gauge: "StackInuse", value: 425984.000000
    iteration7_test.go:432: get gauge: "StackSys", value: 425984.000000
    iteration7_test.go:432: get gauge: "Sys", value: 8031248.000000
    iteration7_test.go:432: get gauge: "BuckHashSys", value: 4000.000000
    iteration7_test.go:432: get gauge: "GCCPUFraction", value: 0.000000
    iteration7_test.go:432: get gauge: "GCSys", value: 2847408.000000
    iteration7_test.go:432: get gauge: "HeapIdle", value: 2523136.000000
    iteration7_test.go:432: get gauge: "HeapInuse", value: 1212416.000000
    iteration7_test.go:432: get gauge: "HeapObjects", value: 5226.000000
    iteration7_test.go:432: get gauge: "Mallocs", value: 5444.000000
    iteration7_test.go:432: get gauge: "TotalAlloc", value: 528912.000000
    iteration7_test.go:439: get counter: "PollCount", value: 25
    iteration7_test.go:432: get gauge: "RandomValue", value: 0.950000
    iteration7_test.go:432: get gauge: "Alloc", value: 528912.000000
    iteration7_test.go:432: get gauge: "Frees", value: 218.000000
    iteration7_test.go:432: get gauge: "HeapAlloc", value: 528912.000000
=== RUN   TestIteration7/TestCollectAgentMetrics/counter/PollCount
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Alloc
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Frees
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
=== RUN   TestIteration7/TestEncoderUsage
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
=== NAME  TestIteration7
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": read tcp [::1]:59215->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2773392.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3203072.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/630784.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150112.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.53": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/354.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/365.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150112.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150112.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/24696.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/749216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3203072.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/32592.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration7_test.go:131: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration7 (30.96s)
    --- PASS: TestIteration7/TestCollectAgentMetrics (20.82s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- PASS: TestIteration7/TestCounterHandlers (0.01s)
        --- PASS: TestIteration7/TestCounterHandlers/update (0.01s)
    --- PASS: TestIteration7/TestEncoderUsage (0.00s)
    --- PASS: TestIteration7/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
=== RUN   TestIteration8/TestCounterGzipHandlers
=== RUN   TestIteration8/TestCounterGzipHandlers/update
=== RUN   TestIteration8/TestGaugeGzipHandlers
=== RUN   TestIteration8/TestGaugeGzipHandlers/update
=== RUN   TestIteration8/TestGetGzipHandlers
=== RUN   TestIteration8/TestGetGzipHandlers/get_info_page
=== NAME  TestIteration8
    iteration8_test.go:152: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": read tcp [::1]:59292->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/365.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/151304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3801088.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/151304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2767224.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3211264.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/354.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/393216.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/151304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3211264.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/589824.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1001232.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.48": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration8_test.go:121: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration8 (10.14s)
    --- PASS: TestIteration8/TestCounterGzipHandlers (0.01s)
        --- PASS: TestIteration8/TestCounterGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGaugeGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGetGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGetGzipHandlers/get_info_page (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:37: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:37
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-file-storage-path non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
    iteration10a_test.go:145: Не удалось получить код ответа 200 от хендлера 'GET /ping' за отведенное время
=== NAME  TestIteration10A
    iteration10a_test.go:111: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        2023/10/08 13:01:12 http: panic serving 127.0.0.1:59358: runtime error: invalid memory address or nil pointer dereference
        goroutine 12 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194cc8bc7501?, {0x102ddb6a0?, 0x140000b3420?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x20?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000cb398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x140000b3420})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140000fcae0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140000fcae0?}, 0x140000110a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140000fcae0}, 0x1400025a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140000fcae0?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400000e618}, 0x1400025a200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400000e618?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140000f22a0}, 0x1400025a200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000fcab0?, {0x102dda640?, 0x140000f22a0?}, 0x140000cb938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140000f22a0}, 0x1400025a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140000f22a0}, 0x1400025a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140000f22a0?}, 0x1400002a22c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140000f22a0}, 0x1400025a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140000f22a0?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140000f22a0}, 0x1400025a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000fc990?}, {0x102dda640?, 0x140000f22a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ec5a0, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:13 http: panic serving 127.0.0.1:59360: runtime error: invalid memory address or nil pointer dereference
        goroutine 14 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194d046a5801?, {0x102ddb6a0?, 0x140000b3500?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000cb398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x140000b3500})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140000fccc0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140000fccc0?}, 0x14000011174?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140000fccc0}, 0x1400025a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140000fccc0?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400000e660}, 0x1400025a400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400000e660?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140000f2380}, 0x1400025a400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000fcc90?, {0x102dda640?, 0x140000f2380?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140000f2380}, 0x1400025a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140000f2380}, 0x1400025a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140000f2380?}, 0x1400002a244?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140000f2380}, 0x1400025a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140000f2380?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140000f2380}, 0x1400025a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000fcba0?}, {0x102dda640?, 0x140000f2380?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ec750, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:14 http: panic serving 127.0.0.1:59363: runtime error: invalid memory address or nil pointer dereference
        goroutine 16 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194d40074301?, {0x102ddb6a0?, 0x140000b3570?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x70?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000cb398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x140000b3570})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140000fcea0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140000fcea0?}, 0x140000111c4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140000fcea0}, 0x1400025a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140000fcea0?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400000e690}, 0x1400025a600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400000e690?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140000f2460}, 0x1400025a600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000fce70?, {0x102dda640?, 0x140000f2460?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140000f2460}, 0x1400025a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140000f2460}, 0x1400025a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140000f2460?}, 0x1400002a25c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140000f2460}, 0x1400025a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140000f2460?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140000f2460}, 0x1400025a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000fcd80?}, {0x102dda640?, 0x140000f2460?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ec900, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:15 http: panic serving 127.0.0.1:59365: runtime error: invalid memory address or nil pointer dereference
        goroutine 19 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194d7b9dc901?, {0x102ddb6a0?, 0x140000b35e0?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0xe0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000cb398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x140000b35e0})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140000fd080}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140000fd080?}, 0x14000011214?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140000fd080}, 0x1400025a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140000fd080?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400000e6c0}, 0x1400025a800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400000e6c0?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140000f2540}, 0x1400025a800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000fd050?, {0x102dda640?, 0x140000f2540?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140000f2540}, 0x1400025a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140000f2540}, 0x1400025a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140000f2540?}, 0x1400002a274?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140000f2540}, 0x1400025a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140000f2540?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140000f2540}, 0x1400025a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000fcf60?}, {0x102dda640?, 0x140000f2540?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ecab0, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:16 http: panic serving 127.0.0.1:59368: runtime error: invalid memory address or nil pointer dereference
        goroutine 21 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194db73fad01?, {0x102ddb6a0?, 0x140000b3650?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x50?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000cb398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x140000b3650})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140000fd260}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140000fd260?}, 0x14000011264?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140000fd260}, 0x1400025aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140000fd260?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400000e6f0}, 0x1400025aa00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400000e6f0?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140000f2620}, 0x1400025aa00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000fd230?, {0x102dda640?, 0x140000f2620?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140000f2620}, 0x1400025aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140000f2620}, 0x1400025aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140000f2620?}, 0x1400002a28c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140000f2620}, 0x1400025aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140000f2620?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140000f2620}, 0x1400025a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000fd140?}, {0x102dda640?, 0x140000f2620?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ecc60, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:17 http: panic serving 127.0.0.1:59370: runtime error: invalid memory address or nil pointer dereference
        goroutine 23 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194df2cf4c01?, {0x102ddb6a0?, 0x140000b36c0?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000cb398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x140000b36c0})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140000fd440}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140000fd440?}, 0x140000112b4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140000fd440}, 0x1400025ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140000fd440?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400000e720}, 0x1400025ac00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400000e720?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140000f2700}, 0x1400025ac00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140000fd410?, {0x102dda640?, 0x140000f2700?}, 0x1400006b938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140000f2700}, 0x1400025ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140000f2700}, 0x1400025ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140000f2700?}, 0x1400002a2a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140000f2700}, 0x1400025ac00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140000f2700?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140000f2700}, 0x1400025ab00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140000fd320?}, {0x102dda640?, 0x140000f2700?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ece10, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:18 http: panic serving 127.0.0.1:59372: runtime error: invalid memory address or nil pointer dereference
        goroutine 34 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194e2e6d0201?, {0x102ddb6a0?, 0x1400013c000?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000c5398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x1400013c000})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x1400011c1e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x1400011c1e0?}, 0x14000122034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x1400011c1e0}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x1400011c1e0?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x14000110018}, 0x1400012a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x14000110018?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c1b0?, {0x102dda640?, 0x14000134000?}, 0x14000067938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x14000134000?}, 0x1400012c004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x14000134000?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x14000134000}, 0x1400012a000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c090?}, {0x102dda640?, 0x14000134000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e000, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:19 http: panic serving 127.0.0.1:59374: runtime error: invalid memory address or nil pointer dereference
        goroutine 36 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194e6a0dda01?, {0x102ddb6a0?, 0x1400013c070?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x70?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000c5398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x1400013c070})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x1400011c3c0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x1400011c3c0?}, 0x140001220a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x1400011c3c0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x1400011c3c0?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x14000110060}, 0x1400012a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x14000110060?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c390?, {0x102dda640?, 0x140001340e0?}, 0x14000067938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140001340e0?}, 0x1400012c01c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140001340e0?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140001340e0}, 0x1400012a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c2a0?}, {0x102dda640?, 0x140001340e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e1b0, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:20 http: panic serving 127.0.0.1:59377: runtime error: invalid memory address or nil pointer dereference
        goroutine 38 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194ea5a75501?, {0x102ddb6a0?, 0x1400013c0e0?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0xe0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000c5398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x1400013c0e0})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x1400011c5a0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x1400011c5a0?}, 0x140001220f4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x1400011c5a0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x1400011c5a0?}, 0x1029f8fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x14000110090}, 0x1400012a500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x14000110090?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c570?, {0x102dda640?, 0x140001341c0?}, 0x14000067938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x140001341c0?}, 0x1400012c034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x140001341c0?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x140001341c0}, 0x1400012a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c480?}, {0x102dda640?, 0x140001341c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e360, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:21 http: panic serving 127.0.0.1:59379: runtime error: invalid memory address or nil pointer dereference
        goroutine 50 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102d4dc40?, 0x102ffd4e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194ee13c4801?, {0x102ddb6a0?, 0x14000318000?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x14000313398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x102ddb6a0, 0x14000318000})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000076460, {0x102dda8b0, 0x140002d81e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda8b0?, 0x140002d81e0?}, 0x140002f0034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080780, {0x102dda8b0, 0x140002d81e0}, 0x140002fa100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x102dda8b0?, 0x140002d81e0?}, 0x10310cf40?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x102dda4c0, 0x1400030c000}, 0x140002fa100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x102dda4c0?, 0x1400030c000?}, 0x1400005a330?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x102dda640?, 0x14000306000}, 0x140002fa100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002d81b0?, {0x102dda640?, 0x14000306000?}, 0x140002ec938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080780, {0x102dda640, 0x14000306000}, 0x140002fa100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x102dda640, 0x14000306000}, 0x140002fa100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x102d4ac20?, {0x102dda640?, 0x14000306000?}, 0x140002fc004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000080720, {0x102dda640, 0x14000306000}, 0x140002fa100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x102ddb630?, {0x102dda640?, 0x14000306000?}, 0x102ffd1b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000080720, {0x102dda640, 0x14000306000}, 0x140002fa000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140002d8090?}, {0x102dda640?, 0x14000306000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002da000, {0x102ddb5f8, 0x140000fc7b0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
--- FAIL: TestIteration10A (10.11s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.00s)
    --- FAIL: TestIteration10A/TestPingHandler (10.00s)
=== RUN   TestIteration10B
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
=== NAME  TestIteration10B
    iteration10b_test.go:106: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        2023/10/08 13:01:22 http: panic serving 127.0.0.1:59382: runtime error: invalid memory address or nil pointer dereference
        goroutine 34 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194f23940701?, {0x100eb76a0?, 0x140001cc000?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000ed398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140001cc000})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x14000188210}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x14000188210?}, 0x140001a2034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x14000188210}, 0x140001ac100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x14000188210?}, 0x1011e8a90?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140001c8000}, 0x140001ac100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140001c8000?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140001c0000}, 0x140001ac100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001881e0?, {0x100eb6640?, 0x140001c0000?}, 0x140000ed938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140001c0000}, 0x140001ac100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140001c0000}, 0x140001ac100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140001c0000?}, 0x140001ae004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140001c0000}, 0x140001ac100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140001c0000?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140001c0000}, 0x140001ac000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000188090?}, {0x100eb6640?, 0x140001c0000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400018c000, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:23 http: panic serving 127.0.0.1:59385: runtime error: invalid memory address or nil pointer dereference
        goroutine 36 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194f5f389c01?, {0x100eb76a0?, 0x140001cc0e0?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0xe0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000ed398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140001cc0e0})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x140001883f0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x140001883f0?}, 0x140001a2104?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x140001883f0}, 0x140001ac300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x140001883f0?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140001c8048}, 0x140001ac300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140001c8048?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140001c00e0}, 0x140001ac300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001883c0?, {0x100eb6640?, 0x140001c00e0?}, 0x1400019e938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140001c00e0}, 0x140001ac300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140001c00e0}, 0x140001ac300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140001c00e0?}, 0x140001ae01c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140001c00e0}, 0x140001ac300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140001c00e0?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140001c00e0}, 0x140001ac200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001882d0?}, {0x100eb6640?, 0x140001c00e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400018c1b0, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:24 http: panic serving 127.0.0.1:59387: runtime error: invalid memory address or nil pointer dereference
        goroutine 24 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194f9adf5b01?, {0x100eb76a0?, 0x140000d1490?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x90?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000f3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140000d1490})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x1400013c9f0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x1400013c9f0?}, 0x140000a5004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x1400013c9f0}, 0x14000214200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x1400013c9f0?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140000a85b8}, 0x14000214200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140000a85b8?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140001302a0}, 0x14000214200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400013c9c0?, {0x100eb6640?, 0x140001302a0?}, 0x1400006a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140001302a0}, 0x14000214200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140001302a0}, 0x14000214200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140001302a0?}, 0x140000b41b4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140001302a0}, 0x14000214200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140001302a0?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140001302a0}, 0x14000214100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400013c8d0?}, {0x100eb6640?, 0x140001302a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400012c510, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:25 http: panic serving 127.0.0.1:59389: runtime error: invalid memory address or nil pointer dereference
        goroutine 50 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1194fd686f101?, {0x100eb76a0?, 0x140002b8000?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140002b3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140002b8000})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x140002841e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x140002841e0?}, 0x1400028e034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x140002841e0}, 0x1400029a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x140002841e0?}, 0x1011e8f40?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140002ac000}, 0x1400029a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140002ac000?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140002a6000}, 0x1400029a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002841b0?, {0x100eb6640?, 0x140002a6000?}, 0x1400019a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140002a6000}, 0x1400029a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140002a6000}, 0x1400029a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140002a6000?}, 0x1400029c004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140002a6000}, 0x1400029a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140002a6000?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140002a6000}, 0x1400029a000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000284090?}, {0x100eb6640?, 0x140002a6000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000288000, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:26 http: panic serving 127.0.0.1:59391: runtime error: invalid memory address or nil pointer dereference
        goroutine 52 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x119501214a501?, {0x100eb76a0?, 0x140002b8070?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x70?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140002b3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140002b8070})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x140002843c0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x140002843c0?}, 0x1400028e0a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x140002843c0}, 0x1400029a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x140002843c0?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140002ac048}, 0x1400029a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140002ac048?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140002a60e0}, 0x1400029a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x14000284390?, {0x100eb6640?, 0x140002a60e0?}, 0x1400019a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140002a60e0}, 0x1400029a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140002a60e0}, 0x1400029a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140002a60e0?}, 0x1400029c034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140002a60e0}, 0x1400029a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140002a60e0?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140002a60e0}, 0x1400029a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140002842a0?}, {0x100eb6640?, 0x140002a60e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002881b0, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:27 http: panic serving 127.0.0.1:59393: runtime error: invalid memory address or nil pointer dereference
        goroutine 54 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x119504db2c901?, {0x100eb76a0?, 0x140002b80e0?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0xe0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140002b3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140002b80e0})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x140002845a0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x140002845a0?}, 0x1400028e0f4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x140002845a0}, 0x1400029a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x140002845a0?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140002ac078}, 0x1400029a500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140002ac078?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140002a61c0}, 0x1400029a500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x14000284570?, {0x100eb6640?, 0x140002a61c0?}, 0x1400019a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140002a61c0}, 0x1400029a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140002a61c0}, 0x1400029a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140002a61c0?}, 0x1400029c04c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140002a61c0}, 0x1400029a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140002a61c0?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140002a61c0}, 0x1400029a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000284480?}, {0x100eb6640?, 0x140002a61c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000288360, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:28 http: panic serving 127.0.0.1:59395: runtime error: invalid memory address or nil pointer dereference
        goroutine 56 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x1195089509e01?, {0x100eb76a0?, 0x140002b8150?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x50?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140002b3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140002b8150})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x14000284780}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x14000284780?}, 0x1400028e144?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x14000284780}, 0x1400029a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x14000284780?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140002ac0a8}, 0x1400029a700)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140002ac0a8?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140002a62a0}, 0x1400029a700)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x14000284750?, {0x100eb6640?, 0x140002a62a0?}, 0x1400019a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140002a62a0}, 0x1400029a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140002a62a0}, 0x1400029a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140002a62a0?}, 0x1400029c064?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140002a62a0}, 0x1400029a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140002a62a0?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140002a62a0}, 0x1400029a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000284660?}, {0x100eb6640?, 0x140002a62a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000288510, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:29 http: panic serving 127.0.0.1:59397: runtime error: invalid memory address or nil pointer dereference
        goroutine 58 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x11950c4ee2e01?, {0x100eb76a0?, 0x140000d1500?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000f3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140000d1500})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x1400013cb40}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x1400013cb40?}, 0x140000a5050?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x1400013cb40}, 0x14000214300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x1400013cb40?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140000a8600}, 0x14000214300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140000a8600?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x14000130380}, 0x14000214300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400013cb10?, {0x100eb6640?, 0x14000130380?}, 0x1400019a938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x14000130380}, 0x14000214300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x14000130380}, 0x14000214300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x14000130380?}, 0x140000b41cc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x14000130380}, 0x14000214300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x14000130380?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x14000130380}, 0x1400029a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000284840?}, {0x100eb6640?, 0x14000130380?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002886c0, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:30 http: panic serving 127.0.0.1:59399: runtime error: invalid memory address or nil pointer dereference
        goroutine 38 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x119510090bc01?, {0x100eb76a0?, 0x140001cc150?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0x50?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140000ed398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140001cc150})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x140001885d0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x140001885d0?}, 0x140001a2154?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x140001885d0}, 0x140001ac500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x140001885d0?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140001c8078}, 0x140001ac500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140001c8078?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140001c01c0}, 0x140001ac500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001885a0?, {0x100eb6640?, 0x140001c01c0?}, 0x1400019e938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140001c01c0}, 0x140001ac500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140001c01c0}, 0x140001ac500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140001c01c0?}, 0x140001ae034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140001c01c0}, 0x140001ac500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140001c01c0?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140001c01c0}, 0x140001ac400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x140001884b0?}, {0x100eb6640?, 0x140001c01c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400018c360, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/08 13:01:31 http: panic serving 127.0.0.1:59401: runtime error: invalid memory address or nil pointer dereference
        goroutine 59 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100e29c40?, 0x1010d94e0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        database/sql.(*DB).conn(0x119513c218701?, {0x100eb76a0?, 0x140002b81c0?}, 0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1282 +0x28
        database/sql.(*DB).PingContext.func1(0xc0?)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:850 +0x40
        database/sql.(*DB).retry(0x0?, 0x140002b3398)
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:1538 +0x4c
        database/sql.(*DB).PingContext(0x0, {0x100eb76a0, 0x140002b81c0})
        	/opt/homebrew/opt/go/libexec/src/database/sql/sql.go:849 +0x6c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x140000da460, {0x100eb68b0, 0x14000284a20}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:185 +0x6c
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb68b0?, 0x14000284a20?}, 0x1400028e1b4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6660, {0x100eb68b0, 0x14000284a20}, 0x1400029aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100eb68b0?, 0x14000284a20?}, 0x100ad4fbc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100eb64c0, 0x140002ac0d8}, 0x1400029aa00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100eb64c0?, 0x140002ac0d8?}, 0x140000a6310?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100eb6640?, 0x140002a6380}, 0x1400029aa00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140002849f0?, {0x100eb6640?, 0x140002a6380?}, 0x1400019c938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6660, {0x100eb6640, 0x140002a6380}, 0x1400029aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100eb6640, 0x140002a6380}, 0x1400029aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100e26c20?, {0x100eb6640?, 0x140002a6380?}, 0x1400029c094?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000b6600, {0x100eb6640, 0x140002a6380}, 0x1400029aa00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100eb7630?, {0x100eb6640?, 0x140002a6380?}, 0x1010d91b0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000b6600, {0x100eb6640, 0x140002a6380}, 0x1400029a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000284900?}, {0x100eb6640?, 0x140002a6380?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000288750, {0x100eb75f8, 0x1400013c6f0})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
--- PASS: TestIteration10B (10.11s)
    --- PASS: TestIteration10B/TestPingHandlerWithWrongSettings (10.00s)
=== RUN   TestIteration11
    iteration11_test.go:77: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration11/TestInspectDatabase
=== RUN   TestIteration11/TestInspectDatabase/populate_counter
    iteration11_test.go:164: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:164
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration11/TestInspectDatabase/populate_counter
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration11_test.go:172: Оригинальный запрос:
        
        POST /update/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration11/TestInspectDatabase/delay
=== RUN   TestIteration11/TestInspectDatabase/inspect
    iteration11_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Expected value not to be nil.
        	Test:       	TestIteration11/TestInspectDatabase/inspect
        	Messages:   	Невозможно проинспектировать базу данных, нет подключения
--- FAIL: TestIteration11 (5.01s)
    --- FAIL: TestIteration11/TestInspectDatabase (5.01s)
        --- FAIL: TestIteration11/TestInspectDatabase/populate_counter (0.00s)
        --- PASS: TestIteration11/TestInspectDatabase/delay (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/inspect (0.00s)
=== RUN   TestIteration12
    iteration12_test.go:78: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration12/TestBatchAPI
=== RUN   TestIteration12/TestBatchAPI/get_random_counter
    iteration12_test.go:165: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:165
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/get_random_counter
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:179: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration12/TestBatchAPI/batch_update_random_metrics
    iteration12_test.go:217: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:217
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/updates/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/batch_update_random_metrics
        	Messages:   	Ошибка при попытке сделать запрос с обновлением списка метрик
    iteration12_test.go:224: Оригинальный запрос:
        
        POST /updates/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:226: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_counter_value
    iteration12_test.go:240: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:240
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_counter_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:255: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:257: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_gauge_value
    iteration12_test.go:271: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:271
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_gauge_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения gauge
    iteration12_test.go:286: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:288: Оригинальный ответ:
        
--- FAIL: TestIteration12 (0.01s)
    --- FAIL: TestIteration12/TestBatchAPI (0.01s)
        --- FAIL: TestIteration12/TestBatchAPI/get_random_counter (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/batch_update_random_metrics (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_counter_value (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_gauge_value (0.00s)
=== RUN   TestIteration13
=== RUN   TestIteration13/TestCollectAgentMetrics
    iteration13_test.go:424: get gauge: "HeapReleased", value: 2490368.000000
    iteration13_test.go:424: get gauge: "HeapSys", value: 3735552.000000
    iteration13_test.go:424: get gauge: "LastGC", value: 0.000000
    iteration13_test.go:424: get gauge: "Lookups", value: 0.000000
    iteration13_test.go:424: get gauge: "MCacheInuse", value: 9600.000000
    iteration13_test.go:424: get gauge: "MCacheSys", value: 15600.000000
    iteration13_test.go:424: get gauge: "MSpanInuse", value: 46368.000000
    iteration13_test.go:424: get gauge: "MSpanSys", value: 48888.000000
    iteration13_test.go:424: get gauge: "NextGC", value: 4194304.000000
    iteration13_test.go:424: get gauge: "NumForcedGC", value: 0.000000
    iteration13_test.go:424: get gauge: "NumGC", value: 0.000000
    iteration13_test.go:424: get gauge: "OtherSys", value: 1201696.000000
    iteration13_test.go:424: get gauge: "PauseTotalNs", value: 0.000000
    iteration13_test.go:424: get gauge: "StackInuse", value: 458752.000000
    iteration13_test.go:424: get gauge: "StackSys", value: 458752.000000
    iteration13_test.go:424: get gauge: "Sys", value: 8293392.000000
    iteration13_test.go:424: get gauge: "BuckHashSys", value: 4000.000000
    iteration13_test.go:424: get gauge: "GCCPUFraction", value: 0.000000
    iteration13_test.go:424: get gauge: "GCSys", value: 2828904.000000
    iteration13_test.go:424: get gauge: "HeapIdle", value: 2473984.000000
    iteration13_test.go:424: get gauge: "HeapInuse", value: 1261568.000000
    iteration13_test.go:424: get gauge: "HeapObjects", value: 5247.000000
    iteration13_test.go:424: get gauge: "Mallocs", value: 5462.000000
    iteration13_test.go:424: get gauge: "TotalAlloc", value: 538824.000000
    iteration13_test.go:431: get counter: "PollCount", value: 50
    iteration13_test.go:424: get gauge: "RandomValue", value: 0.940000
    iteration13_test.go:424: get gauge: "Alloc", value: 538824.000000
    iteration13_test.go:424: get gauge: "Frees", value: 215.000000
    iteration13_test.go:424: get gauge: "HeapAlloc", value: 538824.000000
=== RUN   TestIteration13/TestCollectAgentMetrics/counter/PollCount
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/RandomValue
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Alloc
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Frees
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Mallocs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc
=== RUN   TestIteration13/TestCounterGzipHandlers
=== RUN   TestIteration13/TestCounterGzipHandlers/update
=== RUN   TestIteration13/TestGaugeGzipHandlers
=== RUN   TestIteration13/TestGaugeGzipHandlers/update
=== NAME  TestIteration13
    iteration13_test.go:164: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/154208.00": EOF
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/751424.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/154208.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/745472.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3022848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/358.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.85": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/154208.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2754888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3088384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35616.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/369.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration13_test.go:132: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: empty fail
        can't connect: repository: database: CheckConn: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
--- PASS: TestIteration13 (31.00s)
    --- PASS: TestIteration13/TestCollectAgentMetrics (20.85s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- PASS: TestIteration13/TestCounterGzipHandlers (0.01s)
        --- PASS: TestIteration13/TestCounterGzipHandlers/update (0.01s)
    --- PASS: TestIteration13/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration13/TestGaugeGzipHandlers/update (0.00s)
=== RUN   TestIteration14
    iteration14_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-key non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
