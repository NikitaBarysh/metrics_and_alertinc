=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration1 (0.12s)
    --- PASS: TestIteration1/TestCounterHandlers (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150032.00": EOF
        interrupt
--- PASS: TestIteration2A (10.01s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (1.82s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (1.82s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration3B (0.11s)
    --- PASS: TestIteration3B/TestCounter (0.01s)
        --- PASS: TestIteration3B/TestCounter/update_sequence (0.01s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
=== RUN   TestIteration4/TestCounter/get_unknown
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
=== RUN   TestIteration4/TestGauge/get_unknown
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": read tcp [::1]:59346->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/150752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/150752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3203072.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3203072.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/2": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/365.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/995064.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/354.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.45": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/150752.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2773392.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/630784.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration4 (2.12s)
    --- PASS: TestIteration4/TestCounter (0.00s)
        --- PASS: TestIteration4/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration4/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration4/TestGauge (0.00s)
        --- PASS: TestIteration4/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
=== RUN   TestIteration5/TestCounter/get_unknown
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
=== RUN   TestIteration5/TestGauge/get_unknown
=== NAME  TestIteration5
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/24696.00": read tcp [::1]:59410->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/761552.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3268608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/354.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3268608.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/153640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/565248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/32592.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/365.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/153640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/153640.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.94": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration5 (5.12s)
    --- PASS: TestIteration5/TestCounter (0.00s)
        --- PASS: TestIteration5/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration5/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration5/TestGauge (0.00s)
        --- PASS: TestIteration5/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:432: get gauge: "HeapReleased", value: 2342912.000000
    iteration7_test.go:432: get gauge: "HeapSys", value: 3768320.000000
    iteration7_test.go:432: get gauge: "LastGC", value: 0.000000
    iteration7_test.go:432: get gauge: "Lookups", value: 0.000000
    iteration7_test.go:432: get gauge: "MCacheInuse", value: 9600.000000
    iteration7_test.go:432: get gauge: "MCacheSys", value: 15600.000000
    iteration7_test.go:432: get gauge: "MSpanInuse", value: 46200.000000
    iteration7_test.go:432: get gauge: "MSpanSys", value: 48888.000000
    iteration7_test.go:432: get gauge: "NextGC", value: 4194304.000000
    iteration7_test.go:432: get gauge: "NumForcedGC", value: 0.000000
    iteration7_test.go:432: get gauge: "NumGC", value: 0.000000
    iteration7_test.go:432: get gauge: "OtherSys", value: 939552.000000
    iteration7_test.go:432: get gauge: "PauseTotalNs", value: 0.000000
    iteration7_test.go:432: get gauge: "StackInuse", value: 425984.000000
    iteration7_test.go:432: get gauge: "StackSys", value: 425984.000000
    iteration7_test.go:432: get gauge: "Sys", value: 8031248.000000
    iteration7_test.go:432: get gauge: "BuckHashSys", value: 4000.000000
    iteration7_test.go:432: get gauge: "GCCPUFraction", value: 0.000000
    iteration7_test.go:432: get gauge: "GCSys", value: 2828904.000000
    iteration7_test.go:432: get gauge: "HeapInuse", value: 1400832.000000
    iteration7_test.go:432: get gauge: "HeapObjects", value: 5232.000000
    iteration7_test.go:432: get gauge: "Mallocs", value: 5454.000000
    iteration7_test.go:432: get gauge: "TotalAlloc", value: 532528.000000
    iteration7_test.go:439: get counter: "PollCount", value: 25
    iteration7_test.go:432: get gauge: "RandomValue", value: 0.080000
    iteration7_test.go:432: get gauge: "Alloc", value: 532528.000000
    iteration7_test.go:432: get gauge: "Frees", value: 222.000000
    iteration7_test.go:432: get gauge: "HeapAlloc", value: 532528.000000
    iteration7_test.go:432: get gauge: "HeapIdle", value: 2367488.000000
=== RUN   TestIteration7/TestCollectAgentMetrics/counter/PollCount
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/RandomValue
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Alloc
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Frees
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Mallocs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc
=== RUN   TestIteration7/TestCounterHandlers
=== RUN   TestIteration7/TestCounterHandlers/update
=== RUN   TestIteration7/TestEncoderUsage
=== RUN   TestIteration7/TestGaugeHandlers
=== RUN   TestIteration7/TestGaugeHandlers/update
=== NAME  TestIteration7
    iteration7_test.go:162: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149248.00": read tcp [::1]:59479->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3022848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/35448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/745256.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/361.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.57": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/745472.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/350.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2761056.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3088384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration7_test.go:131: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration7 (30.98s)
    --- PASS: TestIteration7/TestCollectAgentMetrics (20.85s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- PASS: TestIteration7/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- PASS: TestIteration7/TestCounterHandlers (0.01s)
        --- PASS: TestIteration7/TestCounterHandlers/update (0.01s)
    --- PASS: TestIteration7/TestEncoderUsage (0.00s)
    --- PASS: TestIteration7/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration7/TestGaugeHandlers/update (0.00s)
=== RUN   TestIteration8
=== RUN   TestIteration8/TestCounterGzipHandlers
=== RUN   TestIteration8/TestCounterGzipHandlers/update
=== RUN   TestIteration8/TestGaugeGzipHandlers
=== RUN   TestIteration8/TestGaugeGzipHandlers/update
=== RUN   TestIteration8/TestGetGzipHandlers
=== RUN   TestIteration8/TestGetGzipHandlers/get_info_page
=== NAME  TestIteration8
    iteration8_test.go:152: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": read tcp [::1]:59558->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/24696.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/149848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.97": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/149848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/622592.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/354.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/755384.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2767224.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/32592.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3211264.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/149848.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3211264.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/365.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/5": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration8_test.go:121: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
--- PASS: TestIteration8 (10.13s)
    --- PASS: TestIteration8/TestCounterGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestCounterGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGaugeGzipHandlers/update (0.00s)
    --- PASS: TestIteration8/TestGetGzipHandlers (0.00s)
        --- PASS: TestIteration8/TestGetGzipHandlers/get_info_page (0.00s)
=== RUN   TestIteration9
    iteration9_test.go:37: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration9_test.go:37
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:57
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration9
        	Messages:   	-file-storage-path non-empty flag required
--- FAIL: TestIteration9 (0.00s)
=== RUN   TestIteration10A
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
    iteration10a_test.go:145: Не удалось получить код ответа 200 от хендлера 'GET /ping' за отведенное время
=== NAME  TestIteration10A
    iteration10a_test.go:111: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
        2023/10/09 19:15:28 http: panic serving 127.0.0.1:59624: runtime error: invalid memory address or nil pointer dereference
        goroutine 11 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140000c5c00?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400025ccc0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400025ccc0?}, 0x14000010fb4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400025ccc0}, 0x140000e6500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400025ccc0?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x1400000e6c0}, 0x140000e6500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x1400000e6c0?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140000ec540}, 0x140000e6500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025cc90?, {0x100adb160?, 0x140000ec540?}, 0x140000dd938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140000ec540}, 0x140000e6500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140000ec540}, 0x140000e6500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140000ec540?}, 0x1400003c28c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140000ec540}, 0x140000e6500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140000ec540?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140000ec540}, 0x140000e6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025cb70?}, {0x100adb160?, 0x140000ec540?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000eb8c0, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:29 http: panic serving 127.0.0.1:59626: runtime error: invalid memory address or nil pointer dereference
        goroutine 13 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140000c5ce0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400025ced0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400025ced0?}, 0x14000011084?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400025ced0}, 0x140000e6700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400025ced0?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x1400000e708}, 0x140000e6700)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x1400000e708?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140000ec620}, 0x140000e6700)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025cea0?, {0x100adb160?, 0x140000ec620?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140000ec620}, 0x140000e6700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140000ec620}, 0x140000e6700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140000ec620?}, 0x1400003c2a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140000ec620}, 0x140000e6700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140000ec620?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140000ec620}, 0x140000e6600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025cdb0?}, {0x100adb160?, 0x140000ec620?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ebb00, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:30 http: panic serving 127.0.0.1:59628: runtime error: invalid memory address or nil pointer dereference
        goroutine 15 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140000c5d50?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400025d0e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400025d0e0?}, 0x140000110d4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400025d0e0}, 0x140000e6900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400025d0e0?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x1400000e738}, 0x140000e6900)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x1400000e738?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140000ec700}, 0x140000e6900)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025d0b0?, {0x100adb160?, 0x140000ec700?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140000ec700}, 0x140000e6900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140000ec700}, 0x140000e6900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140000ec700?}, 0x1400003c2bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140000ec700}, 0x140000e6900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140000ec700?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140000ec700}, 0x140000e6800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025cfc0?}, {0x100adb160?, 0x140000ec700?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000ebd40, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:31 http: panic serving 127.0.0.1:59630: runtime error: invalid memory address or nil pointer dereference
        goroutine 18 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140000c5dc0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400025d2f0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400025d2f0?}, 0x14000011124?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400025d2f0}, 0x140000e6b00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400025d2f0?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x1400000e768}, 0x140000e6b00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x1400000e768?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140000ec7e0}, 0x140000e6b00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025d2c0?, {0x100adb160?, 0x140000ec7e0?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140000ec7e0}, 0x140000e6b00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140000ec7e0}, 0x140000e6b00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140000ec7e0?}, 0x1400003c2d4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140000ec7e0}, 0x140000e6b00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140000ec7e0?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140000ec7e0}, 0x140000e6a00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025d1d0?}, {0x100adb160?, 0x140000ec7e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a8000, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:32 http: panic serving 127.0.0.1:59632: runtime error: invalid memory address or nil pointer dereference
        goroutine 20 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140000c5e30?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400025d500}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400025d500?}, 0x14000011174?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400025d500}, 0x140000e6d00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400025d500?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x1400000e798}, 0x140000e6d00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x1400000e798?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140000ec8c0}, 0x140000e6d00)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025d4d0?, {0x100adb160?, 0x140000ec8c0?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140000ec8c0}, 0x140000e6d00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140000ec8c0}, 0x140000e6d00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140000ec8c0?}, 0x1400003c2ec?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140000ec8c0}, 0x140000e6d00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140000ec8c0?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140000ec8c0}, 0x140000e6c00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025d3e0?}, {0x100adb160?, 0x140000ec8c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a8240, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:33 http: panic serving 127.0.0.1:59634: runtime error: invalid memory address or nil pointer dereference
        goroutine 22 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x14000136000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400011c0f0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400011c0f0?}, 0x1400011e014?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400011c0f0}, 0x14000130000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400011c0f0?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x14000110018}, 0x14000130000)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x14000110018?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x14000128000}, 0x14000130000)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c0c0?, {0x100adb160?, 0x14000128000?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x14000128000}, 0x14000130000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x14000128000}, 0x14000130000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x14000128000?}, 0x14000118004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x14000128000}, 0x14000130000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x14000128000?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x14000128000}, 0x140000e6e00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025d5f0?}, {0x100adb160?, 0x14000128000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a8480, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:34 http: panic serving 127.0.0.1:59637: runtime error: invalid memory address or nil pointer dereference
        goroutine 35 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x14000136070?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400011c300}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400011c300?}, 0x1400011e084?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400011c300}, 0x14000130200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400011c300?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x14000110060}, 0x14000130200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x14000110060?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140001280e0}, 0x14000130200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c2d0?, {0x100adb160?, 0x140001280e0?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140001280e0}, 0x14000130200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140001280e0}, 0x14000130200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140001280e0?}, 0x1400011801c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140001280e0}, 0x14000130200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140001280e0?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140001280e0}, 0x14000130100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c1e0?}, {0x100adb160?, 0x140001280e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011a1b0, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:35 http: panic serving 127.0.0.1:59639: runtime error: invalid memory address or nil pointer dereference
        goroutine 37 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140001360e0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400011c510}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400011c510?}, 0x1400011e0d4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400011c510}, 0x14000130400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400011c510?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x14000110090}, 0x14000130400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x14000110090?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140001281c0}, 0x14000130400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c4e0?, {0x100adb160?, 0x140001281c0?}, 0x1400007d938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140001281c0}, 0x14000130400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140001281c0}, 0x14000130400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140001281c0?}, 0x14000118034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140001281c0}, 0x14000130400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140001281c0?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140001281c0}, 0x14000130300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c3f0?}, {0x100adb160?, 0x140001281c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011a3f0, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:36 http: panic serving 127.0.0.1:59641: runtime error: invalid memory address or nil pointer dereference
        goroutine 50 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140001d2000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x140001921e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x140001921e0?}, 0x140001ac034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x140001921e0}, 0x140001b6100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x140001921e0?}, 0x100f94a90?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x140001c6000}, 0x140001b6100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x140001c6000?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140001c0000}, 0x140001b6100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x140001921b0?, {0x100adb160?, 0x140001c0000?}, 0x140001a8938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140001c0000}, 0x140001b6100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140001c0000}, 0x140001b6100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140001c0000?}, 0x140001b8004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140001c0000}, 0x140001b6100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140001c0000?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140001c0000}, 0x140001b6000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x14000192090?}, {0x100adb160?, 0x140001c0000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x14000196000, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:37 http: panic serving 127.0.0.1:59643: runtime error: invalid memory address or nil pointer dereference
        goroutine 23 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x100a32fe0?, 0x100dfd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x100adc458?, {0x100adc500?, 0x140000c5ea0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x14000088580, {0x100adb4f0, 0x1400025d800}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb4f0?, 0x1400025d800?}, 0x140000111e4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000092900, {0x100adb4f0, 0x1400025d800}, 0x140000e7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x100adb4f0?, 0x1400025d800?}, 0x10059d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x100adb220, 0x1400000e7c8}, 0x140000e7000)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x100adb220?, 0x1400000e7c8?}, 0x1400006c3a0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x100adb160?, 0x140000ec9a0}, 0x140000e7000)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025d7d0?, {0x100adb160?, 0x140000ec9a0?}, 0x1400007e938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000092900, {0x100adb160, 0x140000ec9a0}, 0x140000e7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x100adb160, 0x140000ec9a0}, 0x140000e7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x100a2f240?, {0x100adb160?, 0x140000ec9a0?}, 0x1400003c304?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x140000928a0, {0x100adb160, 0x140000ec9a0}, 0x140000e7000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x100adc490?, {0x100adb160?, 0x140000ec9a0?}, 0x100dfd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x140000928a0, {0x100adb160, 0x140000ec9a0}, 0x140000e6f00)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025d6b0?}, {0x100adb160?, 0x140000ec9a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a8510, {0x100adc458, 0x1400025c990})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
--- FAIL: TestIteration10A (10.11s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.00s)
    --- FAIL: TestIteration10A/TestPingHandler (10.00s)
=== RUN   TestIteration10B
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
=== NAME  TestIteration10B
    iteration10b_test.go:106: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=/private/tmp user=nikitabar database=`: dial error (dial unix /private/tmp/.s.PGSQL.5432: connect: no such file or directory)
        2023/10/09 19:15:38 http: panic serving 127.0.0.1:59646: runtime error: invalid memory address or nil pointer dereference
        goroutine 18 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140002c4000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400028a270}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400028a270?}, 0x14000288054?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400028a270}, 0x1400029a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400028a270?}, 0x102a94f40?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x140002c0000}, 0x1400029a200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x140002c0000?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140002b8000}, 0x1400029a200)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400028a240?, {0x1025db160?, 0x140002b8000?}, 0x140000d7938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140002b8000}, 0x1400029a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140002b8000}, 0x1400029a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140002b8000?}, 0x140002a4004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b8000}, 0x1400029a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140002b8000?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b8000}, 0x1400029a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400028a120?}, {0x1025db160?, 0x140002b8000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a2000, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:39 http: panic serving 127.0.0.1:59648: runtime error: invalid memory address or nil pointer dereference
        goroutine 34 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x14000144000?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400011c1e0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400011c1e0?}, 0x14000122034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400011c1e0}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400011c1e0?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x14000110018}, 0x1400012a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x14000110018?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c1b0?, {0x1025db160?, 0x14000134000?}, 0x14000081938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x14000134000?}, 0x1400012c004?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x14000134000}, 0x1400012a100)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x14000134000?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x14000134000}, 0x1400012a000)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c090?}, {0x1025db160?, 0x14000134000?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e000, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:40 http: panic serving 127.0.0.1:59651: runtime error: invalid memory address or nil pointer dereference
        goroutine 36 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x14000144070?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400011c3f0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400011c3f0?}, 0x140001220a4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400011c3f0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400011c3f0?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x14000110060}, 0x1400012a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x14000110060?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c3c0?, {0x1025db160?, 0x140001340e0?}, 0x14000081938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140001340e0?}, 0x1400012c034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140001340e0}, 0x1400012a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140001340e0?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140001340e0}, 0x1400012a200)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c2d0?}, {0x1025db160?, 0x140001340e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e240, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:41 http: panic serving 127.0.0.1:59654: runtime error: invalid memory address or nil pointer dereference
        goroutine 38 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140001440e0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400011c600}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400011c600?}, 0x140001220f4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400011c600}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400011c600?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x14000110090}, 0x1400012a500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x14000110090?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c5d0?, {0x1025db160?, 0x140001341c0?}, 0x14000081938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140001341c0?}, 0x1400012c04c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140001341c0}, 0x1400012a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140001341c0?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140001341c0}, 0x1400012a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c4e0?}, {0x1025db160?, 0x140001341c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e480, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:42 http: panic serving 127.0.0.1:59656: runtime error: invalid memory address or nil pointer dereference
        goroutine 40 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x14000144150?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400011c810}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400011c810?}, 0x14000122144?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400011c810}, 0x1400012a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400011c810?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x140001100c0}, 0x1400012a700)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x140001100c0?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140001342a0}, 0x1400012a700)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c7e0?, {0x1025db160?, 0x140001342a0?}, 0x14000081938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140001342a0}, 0x1400012a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140001342a0}, 0x1400012a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140001342a0?}, 0x1400012c064?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140001342a0}, 0x1400012a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140001342a0?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140001342a0}, 0x1400012a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c6f0?}, {0x1025db160?, 0x140001342a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e6c0, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:43 http: panic serving 127.0.0.1:59658: runtime error: invalid memory address or nil pointer dereference
        goroutine 42 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140001441c0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400011ca20}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400011ca20?}, 0x14000122194?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400011ca20}, 0x1400012a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400011ca20?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x140001100f0}, 0x1400012a900)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x140001100f0?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x14000134380}, 0x1400012a900)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400011c9f0?, {0x1025db160?, 0x14000134380?}, 0x14000081938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x14000134380}, 0x1400012a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x14000134380}, 0x1400012a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x14000134380?}, 0x1400012c07c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x14000134380}, 0x1400012a900)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x14000134380?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x14000134380}, 0x1400012a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400011c900?}, {0x1025db160?, 0x14000134380?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x1400011e900, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:44 http: panic serving 127.0.0.1:59660: runtime error: invalid memory address or nil pointer dereference
        goroutine 20 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140002c40e0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400028a480}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400028a480?}, 0x14000288124?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400028a480}, 0x1400029a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400028a480?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x140002c0048}, 0x1400029a400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x140002c0048?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140002b80e0}, 0x1400029a400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400028a450?, {0x1025db160?, 0x140002b80e0?}, 0x14000284938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140002b80e0}, 0x1400029a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140002b80e0}, 0x1400029a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140002b80e0?}, 0x140002a401c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b80e0}, 0x1400029a400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140002b80e0?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b80e0}, 0x1400029a300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400028a360?}, {0x1025db160?, 0x140002b80e0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a2240, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:45 http: panic serving 127.0.0.1:59663: runtime error: invalid memory address or nil pointer dereference
        goroutine 22 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140002c4150?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400028a690}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400028a690?}, 0x14000288174?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400028a690}, 0x1400029a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400028a690?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x140002c0078}, 0x1400029a600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x140002c0078?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140002b81c0}, 0x1400029a600)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400028a660?, {0x1025db160?, 0x140002b81c0?}, 0x14000284938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140002b81c0}, 0x1400029a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140002b81c0}, 0x1400029a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140002b81c0?}, 0x140002a4034?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b81c0}, 0x1400029a600)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140002b81c0?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b81c0}, 0x1400029a500)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400028a570?}, {0x1025db160?, 0x140002b81c0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a2480, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:46 http: panic serving 127.0.0.1:59665: runtime error: invalid memory address or nil pointer dereference
        goroutine 24 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140002c41c0?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400028a8a0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400028a8a0?}, 0x140002881c4?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400028a8a0}, 0x1400029a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400028a8a0?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x140002c00a8}, 0x1400029a800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x140002c00a8?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140002b82a0}, 0x1400029a800)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400028a870?, {0x1025db160?, 0x140002b82a0?}, 0x14000284938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140002b82a0}, 0x1400029a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140002b82a0}, 0x1400029a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140002b82a0?}, 0x140002a404c?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b82a0}, 0x1400029a800)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140002b82a0?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140002b82a0}, 0x1400029a700)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400028a780?}, {0x1025db160?, 0x140002b82a0?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140002a26c0, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
        2023/10/09 19:15:47 http: panic serving 127.0.0.1:59668: runtime error: invalid memory address or nil pointer dereference
        goroutine 11 [running]:
        net/http.(*conn).serve.func1()
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:1868 +0xb0
        panic({0x102532fe0?, 0x1028fd6f0?})
        	/opt/homebrew/opt/go/libexec/src/runtime/panic.go:920 +0x26c
        github.com/NikitaBarysh/metrics_and_alertinc/internal/repository/postgres.(*Postgres).CheckPing(0x1025dc458?, {0x1025dc500?, 0x140000c5c00?})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/repository/postgres/postgres.go:86 +0x20
        github.com/NikitaBarysh/metrics_and_alertinc/internal/handlers.(*Handler).CheckConnection(0x1400007c640, {0x1025db4f0, 0x1400025cae0}, 0x1?)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/handlers/handlers.go:184 +0x88
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db4f0?, 0x1400025cae0?}, 0x14000010f74?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e900, {0x1025db4f0, 0x1400025cae0}, 0x140000e6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x0?, {0x1025db4f0?, 0x1400025cae0?}, 0x10209d4bc?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/compress.GzipMiddleware.func1({0x1025db220, 0x1400000e678}, 0x140000e6400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/compress/middleware.go:111 +0x1fc
        net/http.HandlerFunc.ServeHTTP(0x8?, {0x1025db220?, 0x1400000e678?}, 0x14000070398?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/NikitaBarysh/metrics_and_alertinc/internal/interface/logger.WithLogging.func1({0x1025db160?, 0x140000ec540}, 0x140000e6400)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/interface/logger/logger.go:45 +0xc8
        net/http.HandlerFunc.ServeHTTP(0x1400025cab0?, {0x1025db160?, 0x140000ec540?}, 0x14000085938?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e900, {0x1025db160, 0x140000ec540}, 0x140000e6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:73 +0x300
        github.com/go-chi/chi/v5.(*Mux).Mount.func1({0x1025db160, 0x140000ec540}, 0x140000e6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:316 +0x1e0
        net/http.HandlerFunc.ServeHTTP(0x10252f240?, {0x1025db160?, 0x140000ec540?}, 0x1400003c304?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x1400007e8a0, {0x1025db160, 0x140000ec540}, 0x140000e6400)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x270
        net/http.HandlerFunc.ServeHTTP(0x1025dc490?, {0x1025db160?, 0x140000ec540?}, 0x1028fd3e0?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2136 +0x38
        github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x1400007e8a0, {0x1025db160, 0x140000ec540}, 0x140000e6300)
        	/Users/nikitabar/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x2bc
        net/http.serverHandler.ServeHTTP({0x1400025c990?}, {0x1025db160?, 0x140000ec540?}, 0x6?)
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2938 +0xbc
        net/http.(*conn).serve(0x140000eb830, {0x1025dc458, 0x1400025c840})
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:2009 +0x518
        created by net/http.(*Server).Serve in goroutine 1
        	/opt/homebrew/opt/go/libexec/src/net/http/server.go:3086 +0x4cc
--- PASS: TestIteration10B (10.11s)
    --- PASS: TestIteration10B/TestPingHandlerWithWrongSettings (10.00s)
=== RUN   TestIteration11
    iteration11_test.go:77: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration11/TestInspectDatabase
=== RUN   TestIteration11/TestInspectDatabase/populate_counter
    iteration11_test.go:164: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:164
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/update/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration11/TestInspectDatabase/populate_counter
        	Messages:   	Ошибка при попытке сделать запрос с обновлением counter
    iteration11_test.go:172: Оригинальный запрос:
        
        POST /update/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
=== RUN   TestIteration11/TestInspectDatabase/delay
=== RUN   TestIteration11/TestInspectDatabase/inspect
    iteration11_test.go:181: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration11_test.go:181
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Expected value not to be nil.
        	Test:       	TestIteration11/TestInspectDatabase/inspect
        	Messages:   	Невозможно проинспектировать базу данных, нет подключения
--- FAIL: TestIteration11 (5.01s)
    --- FAIL: TestIteration11/TestInspectDatabase (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/populate_counter (0.00s)
        --- PASS: TestIteration11/TestInspectDatabase/delay (5.00s)
        --- FAIL: TestIteration11/TestInspectDatabase/inspect (0.00s)
=== RUN   TestIteration12
    iteration12_test.go:78: Не удалось подключиться проверить подключение к базе данных: dial tcp: lookup postgres: no such host
=== RUN   TestIteration12/TestBatchAPI
=== RUN   TestIteration12/TestBatchAPI/get_random_counter
    iteration12_test.go:165: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:165
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/get_random_counter
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:179: Несоответствие статус кода 0 ответа ожидаемому http.StatusNotFound или http.StatusOK в хендлере "POST": "http://localhost:8080/value/"
=== RUN   TestIteration12/TestBatchAPI/batch_update_random_metrics
    iteration12_test.go:217: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:217
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/updates/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/batch_update_random_metrics
        	Messages:   	Ошибка при попытке сделать запрос с обновлением списка метрик
    iteration12_test.go:224: Оригинальный запрос:
        
        POST /updates/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:226: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_counter_value
    iteration12_test.go:240: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:240
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_counter_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения counter
    iteration12_test.go:255: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:257: Оригинальный ответ:
        
=== RUN   TestIteration12/TestBatchAPI/check_gauge_value
    iteration12_test.go:271: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration12_test.go:271
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:91
        	Error:      	Received unexpected error:
        	            	Post "http://localhost:8080/value/": dial tcp [::1]:8080: connect: connection refused
        	Test:       	TestIteration12/TestBatchAPI/check_gauge_value
        	Messages:   	Ошибка при попытке сделать запрос с получением значения gauge
    iteration12_test.go:286: Оригинальный запрос:
        
        POST /value/ HTTP/1.1
        Host: localhost:8080
        Accept: application/json
        Accept-Encoding: gzip
        Content-Type: application/json
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
    iteration12_test.go:288: Оригинальный ответ:
        
--- FAIL: TestIteration12 (0.01s)
    --- FAIL: TestIteration12/TestBatchAPI (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/get_random_counter (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/batch_update_random_metrics (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_counter_value (0.00s)
        --- FAIL: TestIteration12/TestBatchAPI/check_gauge_value (0.00s)
=== RUN   TestIteration13
=== RUN   TestIteration13/TestCollectAgentMetrics
    iteration13_test.go:424: get gauge: "HeapReleased", value: 2310144.000000
    iteration13_test.go:424: get gauge: "HeapSys", value: 3735552.000000
    iteration13_test.go:424: get gauge: "LastGC", value: 0.000000
    iteration13_test.go:424: get gauge: "Lookups", value: 0.000000
    iteration13_test.go:424: get gauge: "MCacheInuse", value: 9600.000000
    iteration13_test.go:424: get gauge: "MCacheSys", value: 15600.000000
    iteration13_test.go:424: get gauge: "MSpanInuse", value: 46368.000000
    iteration13_test.go:424: get gauge: "MSpanSys", value: 48888.000000
    iteration13_test.go:424: get gauge: "NextGC", value: 4194304.000000
    iteration13_test.go:424: get gauge: "NumForcedGC", value: 0.000000
    iteration13_test.go:424: get gauge: "NumGC", value: 0.000000
    iteration13_test.go:424: get gauge: "OtherSys", value: 1201696.000000
    iteration13_test.go:424: get gauge: "PauseTotalNs", value: 0.000000
    iteration13_test.go:424: get gauge: "StackInuse", value: 458752.000000
    iteration13_test.go:424: get gauge: "StackSys", value: 458752.000000
    iteration13_test.go:424: get gauge: "Sys", value: 8293392.000000
    iteration13_test.go:424: get gauge: "BuckHashSys", value: 4000.000000
    iteration13_test.go:424: get gauge: "GCCPUFraction", value: 0.000000
    iteration13_test.go:424: get gauge: "GCSys", value: 2828904.000000
    iteration13_test.go:424: get gauge: "HeapInuse", value: 1425408.000000
    iteration13_test.go:424: get gauge: "HeapObjects", value: 5261.000000
    iteration13_test.go:424: get gauge: "Mallocs", value: 5482.000000
    iteration13_test.go:424: get gauge: "TotalAlloc", value: 542800.000000
    iteration13_test.go:431: get counter: "PollCount", value: 50
    iteration13_test.go:424: get gauge: "RandomValue", value: 0.420000
    iteration13_test.go:424: get gauge: "Alloc", value: 542800.000000
    iteration13_test.go:424: get gauge: "Frees", value: 221.000000
    iteration13_test.go:424: get gauge: "HeapAlloc", value: 542800.000000
    iteration13_test.go:424: get gauge: "HeapIdle", value: 2310144.000000
=== RUN   TestIteration13/TestCollectAgentMetrics/counter/PollCount
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/RandomValue
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Alloc
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Frees
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/GCSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/HeapSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/LastGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Lookups
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Mallocs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NextGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/NumGC
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/OtherSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackInuse
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/StackSys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/Sys
=== RUN   TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc
=== RUN   TestIteration13/TestCounterGzipHandlers
=== RUN   TestIteration13/TestCounterGzipHandlers/update
=== RUN   TestIteration13/TestGaugeGzipHandlers
=== RUN   TestIteration13/TestGaugeGzipHandlers/update
=== NAME  TestIteration13
    iteration13_test.go:164: Получен STDOUT лог процесса:
        
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackSys/360448.00": read tcp [::1]:59686->[::1]:8080: read: connection reset by peer
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/3145728.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NextGC/4194304.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/688128.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/1013568.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCSys/2754888.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/counter/PollCount/10": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/3145728.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/46368.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Mallocs/371.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapObjects/360.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.92": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumForcedGC/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/8031248.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Alloc/154560.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapAlloc/154560.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheSys/15600.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/154560.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4000.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/11.00": dial tcp [::1]:8080: connect: connection refused
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/LastGC/0.00": dial tcp [::1]:8080: connect: connection refused
        interrupt
    iteration13_test.go:132: Получен STDOUT лог процесса:
        
        server: main: restorer: read file error: service: file_engine: GetAllMetric: Unmarshal: invalid character '}' looking for beginning of value
        can't connect: repository: postgres: InitPostgres: gooose.UP: failed to connect to `host=postgres user=postgres database=praktikum`: hostname resolving error (lookup postgres: no such host)
--- PASS: TestIteration13 (30.98s)
    --- PASS: TestIteration13/TestCollectAgentMetrics (20.84s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/counter/PollCount (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/RandomValue (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Alloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/BuckHashSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Frees (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCCPUFraction (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/GCSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapAlloc (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapIdle (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapObjects (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapReleased (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/HeapSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/LastGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Lookups (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MCacheSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/MSpanSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Mallocs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NextGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumForcedGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/NumGC (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/OtherSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/PauseTotalNs (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackInuse (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/StackSys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/Sys (0.00s)
        --- PASS: TestIteration13/TestCollectAgentMetrics/gauge/TotalAlloc (0.00s)
    --- PASS: TestIteration13/TestCounterGzipHandlers (0.00s)
        --- PASS: TestIteration13/TestCounterGzipHandlers/update (0.00s)
    --- PASS: TestIteration13/TestGaugeGzipHandlers (0.00s)
        --- PASS: TestIteration13/TestGaugeGzipHandlers/update (0.00s)
=== RUN   TestIteration14
    iteration14_test.go:39: 
        	Error Trace:	/Users/nikitabar/Dev/metrics_and_alertinc/iteration14_test.go:39
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/suite.go:132
        	            				/Users/nikitabar/Dev/metrics_and_alertinc/main_test.go:81
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestIteration14
        	Messages:   	-key non-empty flag required
--- FAIL: TestIteration14 (0.00s)
FAIL
