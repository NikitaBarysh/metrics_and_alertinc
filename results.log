=== RUN   TestIteration1
=== RUN   TestIteration1/TestCounterHandlers
=== RUN   TestIteration1/TestCounterHandlers/update
=== RUN   TestIteration1/TestCounterHandlers/without_id
=== RUN   TestIteration1/TestCounterHandlers/invalid_value
=== RUN   TestIteration1/TestGaugeHandlers
=== RUN   TestIteration1/TestGaugeHandlers/update
=== RUN   TestIteration1/TestGaugeHandlers/without_id
=== RUN   TestIteration1/TestGaugeHandlers/invalid_value
=== RUN   TestIteration1/TestUnknownHandlers
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_type
=== RUN   TestIteration1/TestUnknownHandlers/update_invalid_method
=== NAME  TestIteration1
    iteration1_test.go:82: Получен STDOUT лог процесса:
        
        no metric PollCount yet: not found metric
        Server Graceful Shutdown interrupt
--- PASS: TestIteration1 (0.11s)
    --- PASS: TestIteration1/TestCounterHandlers (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/update (0.01s)
        --- PASS: TestIteration1/TestCounterHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestCounterHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestGaugeHandlers (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/update (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/without_id (0.00s)
        --- PASS: TestIteration1/TestGaugeHandlers/invalid_value (0.00s)
    --- PASS: TestIteration1/TestUnknownHandlers (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_type (0.00s)
        --- PASS: TestIteration1/TestUnknownHandlers/update_invalid_method (0.00s)
=== RUN   TestIteration2A
=== RUN   TestIteration2A/TestAgent
=== RUN   TestIteration2A/TestAgent/receive_data_from_agent
=== NAME  TestIteration2A
    iteration2a_test.go:80: Получен STDOUT лог процесса:
        
        Agent Graceful Shutdown interrupt
--- PASS: TestIteration2A (10.03s)
    --- PASS: TestIteration2A/TestAgent (0.00s)
        --- PASS: TestIteration2A/TestAgent/receive_data_from_agent (0.00s)
=== RUN   TestIteration2B
=== RUN   TestIteration2B/TestFilesPresence
=== RUN   TestIteration2B/TestServerCoverage
--- PASS: TestIteration2B (1.16s)
    --- PASS: TestIteration2B/TestFilesPresence (0.00s)
    --- PASS: TestIteration2B/TestServerCoverage (1.16s)
=== RUN   TestIteration3A
=== RUN   TestIteration3A/TestFrameworkUsage
--- PASS: TestIteration3A (0.00s)
    --- PASS: TestIteration3A/TestFrameworkUsage (0.00s)
=== RUN   TestIteration3B
=== RUN   TestIteration3B/TestCounter
=== RUN   TestIteration3B/TestCounter/update_sequence
=== RUN   TestIteration3B/TestCounter/get_unknown
=== RUN   TestIteration3B/TestGauge
=== RUN   TestIteration3B/TestGauge/update_sequence
=== RUN   TestIteration3B/TestGauge/get_unknown
=== NAME  TestIteration3B
    iteration3b_test.go:85: Получен STDOUT лог процесса:
        
        no metric PollCount yet: not found metric
        Server Graceful Shutdown interrupt
--- PASS: TestIteration3B (0.11s)
    --- PASS: TestIteration3B/TestCounter (0.00s)
        --- PASS: TestIteration3B/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration3B/TestGauge (0.00s)
        --- PASS: TestIteration3B/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration3B/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration4
=== RUN   TestIteration4/TestCounter
=== RUN   TestIteration4/TestCounter/update_sequence
=== RUN   TestIteration4/TestCounter/get_unknown
=== RUN   TestIteration4/TestGauge
=== RUN   TestIteration4/TestGauge/update_sequence
=== RUN   TestIteration4/TestGauge/get_unknown
=== NAME  TestIteration4
    iteration4_test.go:166: Получен STDOUT лог процесса:
        
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/192832.00": EOF
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/47.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/647168.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapSys/3833856.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanInuse/24696.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/OtherSys/711840.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/NumGC/0.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/BuckHashSys/4368.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        Agent Graceful Shutdown interrupt
    iteration4_test.go:135: Получен STDOUT лог процесса:
        
        no metric PollCount yet: not found metric
        Server Graceful Shutdown interrupt
--- PASS: TestIteration4 (2.12s)
    --- PASS: TestIteration4/TestCounter (0.00s)
        --- PASS: TestIteration4/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration4/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration4/TestGauge (0.00s)
        --- PASS: TestIteration4/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration4/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration5
=== RUN   TestIteration5/TestCounter
=== RUN   TestIteration5/TestCounter/update_sequence
=== RUN   TestIteration5/TestCounter/get_unknown
=== RUN   TestIteration5/TestGauge
=== RUN   TestIteration5/TestGauge/update_sequence
=== RUN   TestIteration5/TestGauge/get_unknown
=== NAME  TestIteration5
    iteration5_test.go:139: Процесс завершился с не нулевым статусом 2
    iteration5_test.go:151: Получен STDOUT лог процесса:
        
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Frees/47.00": EOF
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapIdle/2990080.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapReleased/2924544.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Lookups/0.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MCacheInuse/9600.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/GCCPUFraction/0.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/MSpanSys/48888.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/PauseTotalNs/0.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/StackInuse/360448.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/Sys/7769104.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/TotalAlloc/197608.00": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/RandomValue/0.34": dial tcp [::1]:8080: connect: connection refused
        can't do retry request
        useCase: sender: sendPost: do request: Post "http://localhost:8080/update/gauge/HeapInuse/843776.00": dial tcp [::1]:8080: connect: connection refused
        panic: runtime error: invalid memory address or nil pointer dereference
        [signal SIGSEGV: segmentation violation code=0x2 addr=0x18 pc=0x1030831bc]
        
        goroutine 34 [running]:
        github.com/NikitaBarysh/metrics_and_alertinc/internal/service.Retry(0x140000e1d60, 0x0)
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/service/retry.go:63 +0x2ec
        github.com/NikitaBarysh/metrics_and_alertinc/internal/useCase/sender.(*Sender).SendPost(0x1030e4b87?, {0x1031d74d0, 0x140000de0f0}, {0x14000022540?, 0x4?}, {{0x1030de45e, 0x9}, {0x1030dd3e9, 0x5}, 0x0, ...})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/useCase/sender/sender.go:29 +0x220
        github.com/NikitaBarysh/metrics_and_alertinc/internal/service.(*MetricAction).SendMetric(0x1400018a000, {0x1031d74d0, 0x140000de0f0}, {0x1400001c080, 0xe})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/service/send_metric.go:23 +0x1d4
        github.com/NikitaBarysh/metrics_and_alertinc/internal/service.(*MetricAction).Run(0x0?, {0x1031d74d0, 0x140000de0f0}, 0x0?, 0x5, {0x1400001c080, 0xe})
        	/Users/nikitabar/Dev/metrics_and_alertinc/internal/service/run_agent.go:23 +0x144
        created by main.main in goroutine 1
        	/Users/nikitabar/Dev/metrics_and_alertinc/cmd/agent/main.go:33 +0x254
    iteration5_test.go:120: Получен STDOUT лог процесса:
        
        no metric PollCount yet: not found metric
        Server Graceful Shutdown interrupt
--- PASS: TestIteration5 (5.12s)
    --- PASS: TestIteration5/TestCounter (0.00s)
        --- PASS: TestIteration5/TestCounter/update_sequence (0.00s)
        --- PASS: TestIteration5/TestCounter/get_unknown (0.00s)
    --- PASS: TestIteration5/TestGauge (0.00s)
        --- PASS: TestIteration5/TestGauge/update_sequence (0.00s)
        --- PASS: TestIteration5/TestGauge/get_unknown (0.00s)
=== RUN   TestIteration6
=== RUN   TestIteration6/TestLoggerUsage
--- PASS: TestIteration6 (0.00s)
    --- PASS: TestIteration6/TestLoggerUsage (0.00s)
=== RUN   TestIteration7
=== RUN   TestIteration7/TestCollectAgentMetrics
    iteration7_test.go:432: get gauge: "BuckHashSys", value: 4368.000000
    iteration7_test.go:432: get gauge: "GCCPUFraction", value: 0.000000
    iteration7_test.go:432: get gauge: "GCSys", value: 2865912.000000
    iteration7_test.go:432: get gauge: "HeapReleased", value: 3055616.000000
    iteration7_test.go:432: get gauge: "HeapSys", value: 3768320.000000
    iteration7_test.go:432: get gauge: "LastGC", value: 0.000000
    iteration7_test.go:432: get gauge: "Lookups", value: 0.000000
    iteration7_test.go:432: get gauge: "MCacheInuse", value: 9600.000000
    iteration7_test.go:432: get gauge: "MCacheSys", value: 15600.000000
    iteration7_test.go:432: get gauge: "MSpanInuse", value: 46200.000000
    iteration7_test.go:432: get gauge: "MSpanSys", value: 48888.000000
    iteration7_test.go:432: get gauge: "NextGC", value: 4194304.000000
    iteration7_test.go:432: get gauge: "NumForcedGC", value: 0.000000
    iteration7_test.go:432: get gauge: "NumGC", value: 0.000000
    iteration7_test.go:432: get gauge: "OtherSys", value: 902176.000000
    iteration7_test.go:432: get gauge: "PauseTotalNs", value: 0.000000
    iteration7_test.go:432: get gauge: "StackInuse", value: 425984.000000
    iteration7_test.go:432: get gauge: "StackSys", value: 425984.000000
    iteration7_test.go:432: get gauge: "Sys", value: 8031248.000000
